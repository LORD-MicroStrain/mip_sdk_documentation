<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP_SDK: Metadata</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIP_SDK
   &#160;<span id="projectnumber">v4.0.0</span>
   </div>
   <div id="projectbrief">MicroStrain Communications Library for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Metadata </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The MIP SDK includes an additional set of definitions for each MIP field which contain additional information beyond that needed for the core functionality of sending commands and receiving data. It includes human-readable field names and information on each parameter, such as name, type, size, etc. This information is accessible at compile time and can be used for things like pretty-printing, CSV generation, and more.</p>
<p>Metadata is currently an experimental feature and is subject to changes. It requires C++17 or later.</p>
<p>Usage:</p><ol type="1">
<li>Include the metadata definition header for the corresponding descriptor set.</li>
<li>Get a reference or pointer to the metadata for your field.</li>
<li>Access members of the reference.</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> FieldType&gt;</div>
<div class="line"><span class="keywordtype">void</span> print_parameters()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Obtain a reference for easier access.</span></div>
<div class="line">    constexpr <span class="keyword">const</span> <a class="code" href="structmip_1_1metadata_1_1FieldInfo.html">mip::metadata::FieldInfo</a>&amp; field = <a class="code" href="structmip_1_1metadata_1_1MetadataFor.html">mip::metadata::MetadataFor&lt;FieldType&gt;::value</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Print field name and descriptor.</span></div>
<div class="line">    std::printf(<span class="stringliteral">&quot;Field (0x%02X,%02X) %s:\n&quot;</span>, field.descriptor.descriptorSet, field.descriptor.fieldDescriptor, field.title);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Iterate each parameter.</span></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p=0;</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keyword">const</span> <a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html">mip::metadata::ParameterInfo</a>&amp; param : field.parameters)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Single element (most parameters)?</span></div>
<div class="line">        <span class="keywordflow">if</span>(param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae42e5bc91ce9c169123953ea6bd8370e">count</a>.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#a91ed7565334a4fd579477f29da1d99e9">count</a> == 1)</div>
<div class="line">            std::printf(<span class="stringliteral">&quot;  Parameter %u: %s\n&quot;</span>, p, param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae0e79d384cc9c5b8ed7b30be21968e93">name</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Fixed-size array?</span></div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae42e5bc91ce9c169123953ea6bd8370e">count</a>.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#a0c2b90391720f1baff03a2624c24c9f8">isFixed</a>())</div>
<div class="line">            std::printf(<span class="stringliteral">&quot;  Parameter %u: %s[%u]\n&quot;</span>, p, param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae0e79d384cc9c5b8ed7b30be21968e93">name</a>, param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae42e5bc91ce9c169123953ea6bd8370e">count</a>.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#a91ed7565334a4fd579477f29da1d99e9">count</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Variable-sized array with another parameter holding the count?</span></div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae42e5bc91ce9c169123953ea6bd8370e">count</a>.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#ac072b852bc816285563fa02d3325235c">hasCounter</a>())</div>
<div class="line">            std::printf(<span class="stringliteral">&quot;  Parameter %u: %s[%s]\n&quot;</span>, p, param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae0e79d384cc9c5b8ed7b30be21968e93">name</a>, field.parameters[param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae42e5bc91ce9c169123953ea6bd8370e">count</a>.counter.index()].name);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Variable-length array which is determined by the payload length.</span></div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            std::printf(<span class="stringliteral">&quot;  Parameter %u: %s[]\n&quot;</span>, p, param.<a class="code" href="structmip_1_1metadata_1_1ParameterInfo.html#ae0e79d384cc9c5b8ed7b30be21968e93">name</a>);</div>
<div class="line"> </div>
<div class="line">        p++;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="metadata_2definitions_2commands__3dm_8hpp.html">mip/metadata/definitions/commands_3dm.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="metadata_2definitions_2data__sensor_8hpp.html">mip/metadata/definitions/data_sensor.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="5__series__ahrs__example_8c.html#ad53223b8779f25caeddb70a3b9172967">main</a>()</div>
<div class="line">{</div>
<div class="line">    print_parameters&lt;mip::commands_3dm::MessageFormat&gt;();</div>
<div class="line">    print_parameters&lt;mip::commands_3dm::PpsSource&gt;();</div>
<div class="line">    print_parameters&lt;mip::data_sensor::ScaledAccel&gt;();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="astructmip_1_1metadata_1_1ParameterInfo_1_1Count_html_a0c2b90391720f1baff03a2624c24c9f8"><div class="ttname"><a href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#a0c2b90391720f1baff03a2624c24c9f8">mip::metadata::ParameterInfo::Count::isFixed</a></div><div class="ttdeci">constexpr bool isFixed() const</div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:169</div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1ParameterInfo_1_1Count_html_a91ed7565334a4fd579477f29da1d99e9"><div class="ttname"><a href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#a91ed7565334a4fd579477f29da1d99e9">mip::metadata::ParameterInfo::Count::count</a></div><div class="ttdeci">uint8_t count</div><div class="ttdoc">Fixed size if paramIdx unassigned.</div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:166</div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1ParameterInfo_html_ae0e79d384cc9c5b8ed7b30be21968e93"><div class="ttname"><a href="structmip_1_1metadata_1_1ParameterInfo.html#ae0e79d384cc9c5b8ed7b30be21968e93">mip::metadata::ParameterInfo::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Programmatic name (e.g. for printing or language bindings).</div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:192</div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1MetadataFor_html"><div class="ttname"><a href="structmip_1_1metadata_1_1MetadataFor.html">mip::metadata::MetadataFor</a></div><div class="ttdef"><b>Definition:</b> mip_metadata.hpp:13</div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1ParameterInfo_html"><div class="ttname"><a href="structmip_1_1metadata_1_1ParameterInfo.html">mip::metadata::ParameterInfo</a></div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:158</div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1ParameterInfo_html_ae42e5bc91ce9c169123953ea6bd8370e"><div class="ttname"><a href="structmip_1_1metadata_1_1ParameterInfo.html#ae42e5bc91ce9c169123953ea6bd8370e">mip::metadata::ParameterInfo::count</a></div><div class="ttdeci">Count count</div><div class="ttdoc">Number of instances for arrays.</div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:197</div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1FieldInfo_html"><div class="ttname"><a href="structmip_1_1metadata_1_1FieldInfo.html">mip::metadata::FieldInfo</a></div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:212</div></div>
<div class="ttc" id="a5__series__ahrs__example_8c_html_ad53223b8779f25caeddb70a3b9172967"><div class="ttname"><a href="5__series__ahrs__example_8c.html#ad53223b8779f25caeddb70a3b9172967">main</a></div><div class="ttdeci">int main(const int argc, const char *argv[])</div><div class="ttdef"><b>Definition:</b> 5_series_ahrs_example.c:111</div></div>
<div class="ttc" id="ametadata_2definitions_2data__sensor_8hpp_html"><div class="ttname"><a href="metadata_2definitions_2data__sensor_8hpp.html">data_sensor.hpp</a></div></div>
<div class="ttc" id="astructmip_1_1metadata_1_1ParameterInfo_1_1Count_html_ac072b852bc816285563fa02d3325235c"><div class="ttname"><a href="structmip_1_1metadata_1_1ParameterInfo_1_1Count.html#ac072b852bc816285563fa02d3325235c">mip::metadata::ParameterInfo::Count::hasCounter</a></div><div class="ttdeci">constexpr bool hasCounter() const</div><div class="ttdef"><b>Definition:</b> mip_structures.hpp:170</div></div>
<div class="ttc" id="ametadata_2definitions_2commands__3dm_8hpp_html"><div class="ttname"><a href="metadata_2definitions_2commands__3dm_8hpp.html">commands_3dm.hpp</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
