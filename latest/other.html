<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP SDK: Other Considerations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MIP SDK<span id="projectnumber">&#160;v2.0.0-1-g65a7b37</span>
   </div>
   <div id="projectbrief">MicroStrain Communications Library for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Other Considerations</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="known_issues"></a>
Known Issues and Workarounds</h1>
<dl class="section user"><dt>suppress_ack parameters are not supported</dt><dd></dd></dl>
<p>Some commands accept a parameter named <code>suppress_ack</code> which acts to prevent the standard ack/nack reply from being returned by the device, e.g. the 3DM Poll Data command. Use of this parameter is not supported in the MIP SDK and will cause the command to appear to time out after a short delay.</p>
<p>If you do not wish to wait for a reply (i.e. just send the command and continue) you can build and send the command yourself: </p><div class="fragment"><div class="line"><span class="comment">// Create the command with required parameters.</span></div>
<div class="line"><a class="code hl_struct" href="structmip_1_1commands__3dm_1_1_poll_data.html">mip::commands_3dm::PollData</a> cmd;</div>
<div class="line">cmd.<a class="code hl_variable" href="structmip_1_1commands__3dm_1_1_poll_data.html#a7d7be7ad163e7b54f0edd7cb86adac0f">desc_set</a> = <a class="code hl_enumvalue" href="group__sensor__data__cpp.html#gga9f7810820a9a03c560eb40e8ce31c404ae97bd19967b3e301a19d9ce7eb77d919">mip::data_sensor::DESCRIPTOR_SET</a>;</div>
<div class="line">cmd.<a class="code hl_variable" href="structmip_1_1commands__3dm_1_1_poll_data.html#a71bc8584ca77ae72904cd6c0f63454ef">suppress_ack</a> = <span class="keyword">true</span>;</div>
<div class="line">cmd.<a class="code hl_variable" href="structmip_1_1commands__3dm_1_1_poll_data.html#aa634262648b551cf4cbda1fde0e97965">num_descriptors</a> = 2;</div>
<div class="line">cmd.<a class="code hl_variable" href="structmip_1_1commands__3dm_1_1_poll_data.html#aaec9e17923c86b1646bcad07fda1b1ec">descriptors</a>[0] = <a class="code hl_variable" href="structmip_1_1data__sensor_1_1_scaled_accel.html#a79e485516eb04afcf39d71c2d41dd1cd">mip::data_sensor::ScaledAccel::FIELD_DESCRIPTOR</a>;</div>
<div class="line">cmd.<a class="code hl_variable" href="structmip_1_1commands__3dm_1_1_poll_data.html#aaec9e17923c86b1646bcad07fda1b1ec">descriptors</a>[1] = <a class="code hl_variable" href="structmip_1_1data__sensor_1_1_scaled_gyro.html#a9e9f87e6112033ebd965724831e8f677">mip::data_sensor::ScaledGyro::FIELD_DESCRIPTOR</a>;</div>
<div class="line"><span class="comment">// Build a packet.</span></div>
<div class="line"><a class="code hl_class" href="classmip_1_1_sized_packet_buf.html">mip::PacketBuf</a> packet(cmd);</div>
<div class="line"><span class="comment">// Send it to the device.</span></div>
<div class="line">device.sendCommand(packet);</div>
<div class="ttc" id="aclassmip_1_1_sized_packet_buf_html"><div class="ttname"><a href="classmip_1_1_sized_packet_buf.html">mip::SizedPacketBuf</a></div><div class="ttdoc">A mip packet with a self-contained buffer (useful with std::vector).</div><div class="ttdef"><b>Definition</b> mip.hpp:314</div></div>
<div class="ttc" id="agroup__sensor__data__cpp_html_gga9f7810820a9a03c560eb40e8ce31c404ae97bd19967b3e301a19d9ce7eb77d919"><div class="ttname"><a href="group__sensor__data__cpp.html#gga9f7810820a9a03c560eb40e8ce31c404ae97bd19967b3e301a19d9ce7eb77d919">mip::data_sensor::DESCRIPTOR_SET</a></div><div class="ttdeci">@ DESCRIPTOR_SET</div><div class="ttdef"><b>Definition</b> data_sensor.hpp:33</div></div>
<div class="ttc" id="astructmip_1_1commands__3dm_1_1_poll_data_html"><div class="ttname"><a href="structmip_1_1commands__3dm_1_1_poll_data.html">mip::commands_3dm::PollData</a></div><div class="ttdef"><b>Definition</b> commands_3dm.hpp:766</div></div>
<div class="ttc" id="astructmip_1_1commands__3dm_1_1_poll_data_html_a71bc8584ca77ae72904cd6c0f63454ef"><div class="ttname"><a href="structmip_1_1commands__3dm_1_1_poll_data.html#a71bc8584ca77ae72904cd6c0f63454ef">mip::commands_3dm::PollData::suppress_ack</a></div><div class="ttdeci">bool suppress_ack</div><div class="ttdoc">Suppress the usual ACK/NACK reply.</div><div class="ttdef"><b>Definition</b> commands_3dm.hpp:768</div></div>
<div class="ttc" id="astructmip_1_1commands__3dm_1_1_poll_data_html_a7d7be7ad163e7b54f0edd7cb86adac0f"><div class="ttname"><a href="structmip_1_1commands__3dm_1_1_poll_data.html#a7d7be7ad163e7b54f0edd7cb86adac0f">mip::commands_3dm::PollData::desc_set</a></div><div class="ttdeci">uint8_t desc_set</div><div class="ttdoc">Data descriptor set. Must be supported.</div><div class="ttdef"><b>Definition</b> commands_3dm.hpp:767</div></div>
<div class="ttc" id="astructmip_1_1commands__3dm_1_1_poll_data_html_aa634262648b551cf4cbda1fde0e97965"><div class="ttname"><a href="structmip_1_1commands__3dm_1_1_poll_data.html#aa634262648b551cf4cbda1fde0e97965">mip::commands_3dm::PollData::num_descriptors</a></div><div class="ttdeci">uint8_t num_descriptors</div><div class="ttdoc">Number of descriptors in the format list.</div><div class="ttdef"><b>Definition</b> commands_3dm.hpp:769</div></div>
<div class="ttc" id="astructmip_1_1commands__3dm_1_1_poll_data_html_aaec9e17923c86b1646bcad07fda1b1ec"><div class="ttname"><a href="structmip_1_1commands__3dm_1_1_poll_data.html#aaec9e17923c86b1646bcad07fda1b1ec">mip::commands_3dm::PollData::descriptors</a></div><div class="ttdeci">uint8_t descriptors[82]</div><div class="ttdoc">Descriptor format list.</div><div class="ttdef"><b>Definition</b> commands_3dm.hpp:770</div></div>
<div class="ttc" id="astructmip_1_1data__sensor_1_1_scaled_accel_html_a79e485516eb04afcf39d71c2d41dd1cd"><div class="ttname"><a href="structmip_1_1data__sensor_1_1_scaled_accel.html#a79e485516eb04afcf39d71c2d41dd1cd">mip::data_sensor::ScaledAccel::FIELD_DESCRIPTOR</a></div><div class="ttdeci">static constexpr const uint8_t FIELD_DESCRIPTOR</div><div class="ttdef"><b>Definition</b> data_sensor.hpp:221</div></div>
<div class="ttc" id="astructmip_1_1data__sensor_1_1_scaled_gyro_html_a9e9f87e6112033ebd965724831e8f677"><div class="ttname"><a href="structmip_1_1data__sensor_1_1_scaled_gyro.html#a9e9f87e6112033ebd965724831e8f677">mip::data_sensor::ScaledGyro::FIELD_DESCRIPTOR</a></div><div class="ttdeci">static constexpr const uint8_t FIELD_DESCRIPTOR</div><div class="ttdef"><b>Definition</b> data_sensor.hpp:255</div></div>
</div><!-- fragment --><dl class="section user"><dt>Some commands take longer and may time out</dt><dd></dd></dl>
<p>This applies to the following commands: </p><ul>
<li>Save All Settings (<code><a class="el" href="structmip_1_1commands__3dm_1_1_device_settings.html">mip::commands_3dm::DeviceSettings</a></code> with <code><a class="el" href="namespacemip.html#a2dde9cdf5ebc86cf62e8c2591dcb56deaf5cf47ab06d0d98b0d16d10c82d87953">mip::FunctionSelector::SAVE</a></code>) </li>
<li>Commanded Built-In Test (<code><a class="el" href="structmip_1_1commands__base_1_1_built_in_test.html">mip::commands_base::BuiltInTest</a></code>) </li>
<li>Capture Gyro Bias (<code><a class="el" href="structmip_1_1commands__3dm_1_1_capture_gyro_bias.html">mip::commands_3dm::CaptureGyroBias</a></code>)</li>
</ul>
<p>The device timeout must be sufficiently long when sending these commands. There are 3 potential ways to avoid erroneous timeouts: </p><ul>
<li>Set a high overall device timeout. This is the easiest solution but may cause excess delays in your application if the device is unplugged, not powered, etc. </li>
<li>Temporarily set the timeout higher, and restore it after running the long command. </li>
<li>If using C++, use the <code><a class="el" href="classmip_1_1_device_interface.html#af7b5368e337286c094cf89e61a35c34a">mip::DeviceInterface::runCommand</a></code> function and pass a large enough value for the <code>additionalTime</code> parameter. This raises the timeout specifically for that one command instance and is the recommended option. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
