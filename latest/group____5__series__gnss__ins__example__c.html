<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP_SDK: 5-Series GNSS/INS Example [C]</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIP_SDK
   &#160;<span id="projectnumber">v4.0.0-237-g9879cb72</span>
   </div>
   <div id="projectbrief">MicroStrain Communications Library for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">5-Series GNSS/INS Example [C]<div class="ingroups"><a class="el" href="group__mip.html">MIP</a> &raquo; <a class="el" href="group__examples__c.html">Examples [C]</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Example setup program for the 3DM-CX5-GNSS/INS, and 3DM-GX5-GNSS/INS using C.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae91aa63e54ce2349e459207bdcd97649"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gae91aa63e54ce2349e459207bdcd97649">log_callback</a> (void *_user, const <a class="el" href="group__microstrain__logging__c.html#ga6e2280c5b0484ccb5e7faafad1dbd062">microstrain_log_level</a> _level, const char *_format, va_list _args)</td></tr>
<tr class="memdesc:gae91aa63e54ce2349e459207bdcd97649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom logging callback for MIP SDK message formatting and output.  <a href="group____5__series__gnss__ins__example__c.html#gae91aa63e54ce2349e459207bdcd97649">More...</a><br /></td></tr>
<tr class="separator:gae91aa63e54ce2349e459207bdcd97649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7873ad706bb08f8d9fdddb2716c6a20"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gab7873ad706bb08f8d9fdddb2716c6a20">capture_gyro_bias</a> (mip_interface *_device)</td></tr>
<tr class="memdesc:gab7873ad706bb08f8d9fdddb2716c6a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Captures and configures device gyro bias.  <a href="group____5__series__gnss__ins__example__c.html#gab7873ad706bb08f8d9fdddb2716c6a20">More...</a><br /></td></tr>
<tr class="separator:gab7873ad706bb08f8d9fdddb2716c6a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00d3ed26079691d5ee54cfee015e693d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga00d3ed26079691d5ee54cfee015e693d">configure_gnss_message_format</a> (mip_interface *_device)</td></tr>
<tr class="memdesc:ga00d3ed26079691d5ee54cfee015e693d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures message format for GNSS data streaming.  <a href="group____5__series__gnss__ins__example__c.html#ga00d3ed26079691d5ee54cfee015e693d">More...</a><br /></td></tr>
<tr class="separator:ga00d3ed26079691d5ee54cfee015e693d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4c03c5087ef10fd8c712870362f07ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gaf4c03c5087ef10fd8c712870362f07ac">configure_filter_message_format</a> (mip_interface *_device)</td></tr>
<tr class="memdesc:gaf4c03c5087ef10fd8c712870362f07ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures message format for filter data streaming.  <a href="group____5__series__gnss__ins__example__c.html#gaf4c03c5087ef10fd8c712870362f07ac">More...</a><br /></td></tr>
<tr class="separator:gaf4c03c5087ef10fd8c712870362f07ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf867a0aaddfff9bcc410090152fad3c4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gaf867a0aaddfff9bcc410090152fad3c4">configure_antenna_offset</a> (mip_interface *_device)</td></tr>
<tr class="memdesc:gaf867a0aaddfff9bcc410090152fad3c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the GNSS antenna offset parameters for the device.  <a href="group____5__series__gnss__ins__example__c.html#gaf867a0aaddfff9bcc410090152fad3c4">More...</a><br /></td></tr>
<tr class="separator:gaf867a0aaddfff9bcc410090152fad3c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae83d0cad66c985fd50c767b7331c4491"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gae83d0cad66c985fd50c767b7331c4491">initialize_filter</a> (mip_interface *_device)</td></tr>
<tr class="memdesc:gae83d0cad66c985fd50c767b7331c4491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and resets the navigation filter.  <a href="group____5__series__gnss__ins__example__c.html#gae83d0cad66c985fd50c767b7331c4491">More...</a><br /></td></tr>
<tr class="separator:gae83d0cad66c985fd50c767b7331c4491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga931c7c64f2b6eaeffc54594104e19a04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga931c7c64f2b6eaeffc54594104e19a04">display_gnss_fix_state</a> (const mip_gnss_fix_info_data *_fix_info)</td></tr>
<tr class="memdesc:ga931c7c64f2b6eaeffc54594104e19a04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the current GNSS fix state when changes occur.  <a href="group____5__series__gnss__ins__example__c.html#ga931c7c64f2b6eaeffc54594104e19a04">More...</a><br /></td></tr>
<tr class="separator:ga931c7c64f2b6eaeffc54594104e19a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga502b5c976493d4638f608e797f77b149"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga502b5c976493d4638f608e797f77b149">display_filter_state</a> (const mip_filter_mode _filter_state)</td></tr>
<tr class="memdesc:ga502b5c976493d4638f608e797f77b149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the current filter state when changes occur.  <a href="group____5__series__gnss__ins__example__c.html#ga502b5c976493d4638f608e797f77b149">More...</a><br /></td></tr>
<tr class="separator:ga502b5c976493d4638f608e797f77b149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga935ae86e1815f5b73954656c3e364edc"><td class="memItemLeft" align="right" valign="top">static mip_timestamp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga935ae86e1815f5b73954656c3e364edc">get_current_timestamp</a> ()</td></tr>
<tr class="memdesc:ga935ae86e1815f5b73954656c3e364edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current system timestamp in milliseconds.  <a href="group____5__series__gnss__ins__example__c.html#ga935ae86e1815f5b73954656c3e364edc">More...</a><br /></td></tr>
<tr class="separator:ga935ae86e1815f5b73954656c3e364edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0327b223000a9e4b27b2ba8a53f3ab7c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga0327b223000a9e4b27b2ba8a53f3ab7c">mip_interface_user_send_to_device</a> (mip_interface *_device, const uint8_t *_data, size_t _length)</td></tr>
<tr class="memdesc:ga0327b223000a9e4b27b2ba8a53f3ab7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles sending packets to the device.  <a href="group____5__series__gnss__ins__example__c.html#ga0327b223000a9e4b27b2ba8a53f3ab7c">More...</a><br /></td></tr>
<tr class="separator:ga0327b223000a9e4b27b2ba8a53f3ab7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga455fe41f4d60f77e8e8b89ee701f5131"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga455fe41f4d60f77e8e8b89ee701f5131">mip_interface_user_recv_from_device</a> (mip_interface *_device, uint8_t *_buffer, size_t _max_length, mip_timeout _wait_time, bool _from_cmd, size_t *_length_out, mip_timestamp *_timestamp_out)</td></tr>
<tr class="memdesc:ga455fe41f4d60f77e8e8b89ee701f5131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles receiving packets from the device.  <a href="group____5__series__gnss__ins__example__c.html#ga455fe41f4d60f77e8e8b89ee701f5131">More...</a><br /></td></tr>
<tr class="separator:ga455fe41f4d60f77e8e8b89ee701f5131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee4d8db1c6a3b49e5c6c6c94ecece049"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gaee4d8db1c6a3b49e5c6c6c94ecece049">initialize_device</a> (mip_interface *_device, <a class="el" href="structserial__port.html">serial_port</a> *_device_port, const uint32_t _baudrate)</td></tr>
<tr class="memdesc:gaee4d8db1c6a3b49e5c6c6c94ecece049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and configures a MIP device interface.  <a href="group____5__series__gnss__ins__example__c.html#gaee4d8db1c6a3b49e5c6c6c94ecece049">More...</a><br /></td></tr>
<tr class="separator:gaee4d8db1c6a3b49e5c6c6c94ecece049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7ec0a7a4b1ab15a964cca061803ddc6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gad7ec0a7a4b1ab15a964cca061803ddc6">terminate</a> (<a class="el" href="structserial__port.html">serial_port</a> *_device_port, const char *_message, const bool _successful)</td></tr>
<tr class="memdesc:gad7ec0a7a4b1ab15a964cca061803ddc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles graceful program termination and cleanup.  <a href="group____5__series__gnss__ins__example__c.html#gad7ec0a7a4b1ab15a964cca061803ddc6">More...</a><br /></td></tr>
<tr class="separator:gad7ec0a7a4b1ab15a964cca061803ddc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41f23b5b71931d62953238e0d845fc17"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga41f23b5b71931d62953238e0d845fc17">exit_from_command</a> (const mip_interface *_device, const mip_cmd_result _cmd_result, const char *_format,...)</td></tr>
<tr class="memdesc:ga41f23b5b71931d62953238e0d845fc17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles graceful program termination and command failure cleanup.  <a href="group____5__series__gnss__ins__example__c.html#ga41f23b5b71931d62953238e0d845fc17">More...</a><br /></td></tr>
<tr class="separator:ga41f23b5b71931d62953238e0d845fc17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga8c6515fdb2cc5d8af272933be29930ec"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga8c6515fdb2cc5d8af272933be29930ec">PORT_NAME</a> = &quot;/dev/ttyACM0&quot;</td></tr>
<tr class="memdesc:ga8c6515fdb2cc5d8af272933be29930ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port name for the connection (Serial/USB)  <a href="group____5__series__gnss__ins__example__c.html#ga8c6515fdb2cc5d8af272933be29930ec">More...</a><br /></td></tr>
<tr class="separator:ga8c6515fdb2cc5d8af272933be29930ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3948594ac93f0c5008fee3efcb07de77"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga3948594ac93f0c5008fee3efcb07de77">BAUDRATE</a> = 115200</td></tr>
<tr class="memdesc:ga3948594ac93f0c5008fee3efcb07de77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the baudrate for the connection (Serial/USB)  <a href="group____5__series__gnss__ins__example__c.html#ga3948594ac93f0c5008fee3efcb07de77">More...</a><br /></td></tr>
<tr class="separator:ga3948594ac93f0c5008fee3efcb07de77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad450e873c8cb75f9f6330604a42866db"><td class="memItemLeft" align="right" valign="top">static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#gad450e873c8cb75f9f6330604a42866db">SAMPLE_RATE_HZ</a> = 1</td></tr>
<tr class="memdesc:gad450e873c8cb75f9f6330604a42866db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Streaming rate in Hz.  <a href="group____5__series__gnss__ins__example__c.html#gad450e873c8cb75f9f6330604a42866db">More...</a><br /></td></tr>
<tr class="separator:gad450e873c8cb75f9f6330604a42866db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43b7a50ff09fe2ae8352833c8c48c81b"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group____5__series__gnss__ins__example__c.html#ga43b7a50ff09fe2ae8352833c8c48c81b">RUN_TIME_SECONDS</a> = 30</td></tr>
<tr class="memdesc:ga43b7a50ff09fe2ae8352833c8c48c81b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Example run time.  <a href="group____5__series__gnss__ins__example__c.html#ga43b7a50ff09fe2ae8352833c8c48c81b">More...</a><br /></td></tr>
<tr class="separator:ga43b7a50ff09fe2ae8352833c8c48c81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This example shows a basic setup to configure the navigation filter with GNSS velocity and magnetometer as the heading source to stream filter data for the 3DM-CX5-GNSS/INS, and 3DM-GX5-GNSS/INS devices using C. This is not an exhaustive example of all settings for those devices. If this example does not meet your specific setup needs, please consult the MIP SDK API documentation for the proper commands.</p>
<h1><a class="anchor" id="_5_series_gnss_ins_example_c_license"></a>
License</h1>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025 MicroStrain by HBK Licensed under MIT License </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae91aa63e54ce2349e459207bdcd97649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae91aa63e54ce2349e459207bdcd97649">&#9670;&nbsp;</a></span>log_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__microstrain__logging__c.html#ga6e2280c5b0484ccb5e7faafad1dbd062">microstrain_log_level</a>&#160;</td>
          <td class="paramname"><em>_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Processes and formats log messages from the MIP SDK based on severity level. Routes messages to appropriate output streams - errors and fatal messages go to stderr while other levels go to stdout. Each message is prefixed with its severity level name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_user</td><td>Pointer to user data (unused in this implementation) </td></tr>
    <tr><td class="paramname">_level</td><td>Log message severity level from microstrain_log_level enum </td></tr>
    <tr><td class="paramname">_format</td><td>Printf-style format string for the message </td></tr>
    <tr><td class="paramname">_args</td><td>Variable argument list containing message parameters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab7873ad706bb08f8d9fdddb2716c6a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7873ad706bb08f8d9fdddb2716c6a20">&#9670;&nbsp;</a></span>capture_gyro_bias()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void capture_gyro_bias </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>Pointer to the initialized MIP device interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga00d3ed26079691d5ee54cfee015e693d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00d3ed26079691d5ee54cfee015e693d">&#9670;&nbsp;</a></span>configure_gnss_message_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void configure_gnss_message_format </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets up GNSS data output by:</p><ol type="1">
<li>Querying device base rate</li>
<li>Validating desired sample rate against base rate</li>
<li>Calculating proper decimation</li>
<li>Configuring message format with:<ul>
<li>Fix information</li>
</ul>
</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>Pointer to the initialized MIP device interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf4c03c5087ef10fd8c712870362f07ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4c03c5087ef10fd8c712870362f07ac">&#9670;&nbsp;</a></span>configure_filter_message_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void configure_filter_message_format </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets up filter data output by:</p><ol type="1">
<li>Querying device base rate</li>
<li>Validating desired sample rate against base rate</li>
<li>Calculating proper decimation</li>
<li>Configuring message format with:<ul>
<li>Filter timestamp</li>
<li>Filter status</li>
<li>LLH position</li>
<li>NED velocity</li>
<li>Euler angles</li>
</ul>
</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>Pointer to the initialized MIP device interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf867a0aaddfff9bcc410090152fad3c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf867a0aaddfff9bcc410090152fad3c4">&#9670;&nbsp;</a></span>configure_antenna_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void configure_antenna_offset </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets up the physical antenna offset values relative to the device's reference point. The offset is specified in meters using a 3D vector:</p><ul>
<li>X: forward/back</li>
<li>Y: left/right</li>
<li>Z: up/down</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>Pointer to the initialized MIP device interface</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Offset values are specific to physical device setup and may need to be adjusted based on actual antenna placement </dd></dl>

</div>
</div>
<a id="gae83d0cad66c985fd50c767b7331c4491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae83d0cad66c985fd50c767b7331c4491">&#9670;&nbsp;</a></span>initialize_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initialize_filter </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Configures the navigation filter by:</p><ol type="1">
<li>Setting the magnetometer as the heading source</li>
<li>Enabling filter auto-initialization</li>
<li>Resetting the filter to apply new settings</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>Pointer to the initialized MIP device interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga931c7c64f2b6eaeffc54594104e19a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga931c7c64f2b6eaeffc54594104e19a04">&#9670;&nbsp;</a></span>display_gnss_fix_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void display_gnss_fix_state </td>
          <td>(</td>
          <td class="paramtype">const mip_gnss_fix_info_data *&#160;</td>
          <td class="paramname"><em>_fix_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Outputs readable messages for GNSS fix state transitions:</p><ul>
<li>3D fix</li>
<li>2D fix</li>
<li>Time-only fix</li>
<li>No fix</li>
<li>Invalid fix Also indicates whether the current fix is valid based on flag checks.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_fix_info</td><td>Pointer to the GNSS fix information structure containing fix type and validity flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga502b5c976493d4638f608e797f77b149"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga502b5c976493d4638f608e797f77b149">&#9670;&nbsp;</a></span>display_filter_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void display_filter_state </td>
          <td>(</td>
          <td class="paramtype">const mip_filter_mode&#160;</td>
          <td class="paramname"><em>_filter_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Outputs readable messages for filter state transitions:</p><ul>
<li>Initialization mode</li>
<li>Run solution valid mode</li>
<li>Run solution error mode</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_filter_state</td><td>Current filter mode from the MIP device interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga935ae86e1815f5b73954656c3e364edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga935ae86e1815f5b73954656c3e364edc">&#9670;&nbsp;</a></span>get_current_timestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static mip_timestamp get_current_timestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Provides basic timestamping using system time:</p><ul>
<li>Returns milliseconds since Unix epoch</li>
<li>Uses timespec_get() with UTC time base</li>
<li>Returns 0 if time cannot be obtained</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Update this function to use a different time source if needed for your specific application requirements</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Current system time in milliseconds since epoch </dd></dl>

</div>
</div>
<a id="ga0327b223000a9e4b27b2ba8a53f3ab7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0327b223000a9e4b27b2ba8a53f3ab7c">&#9670;&nbsp;</a></span>mip_interface_user_send_to_device()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mip_interface_user_send_to_device </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implements the MIP device interface send callback:</p><ul>
<li>Extracts serial port from device user pointer</li>
<li>Validates connection state</li>
<li>Writes data buffer to serial port</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>MIP device interface containing the connection </td></tr>
    <tr><td class="paramname">_data</td><td>Buffer containing packet data to send </td></tr>
    <tr><td class="paramname">_length</td><td>Number of bytes to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if send was successful, false otherwise </dd></dl>

</div>
</div>
<a id="ga455fe41f4d60f77e8e8b89ee701f5131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga455fe41f4d60f77e8e8b89ee701f5131">&#9670;&nbsp;</a></span>mip_interface_user_recv_from_device()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mip_interface_user_recv_from_device </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timeout&#160;</td>
          <td class="paramname"><em>_wait_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_from_cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>_length_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timestamp *&#160;</td>
          <td class="paramname"><em>_timestamp_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implements the MIP device interface receive callback:</p><ul>
<li>Extracts serial port from device user pointer</li>
<li>Validates connection state</li>
<li>Reads available data into provided buffer</li>
<li>Timestamps the received data</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>MIP device interface containing the connection </td></tr>
    <tr><td class="paramname">_buffer</td><td>Buffer to store received data </td></tr>
    <tr><td class="paramname">_max_length</td><td>Maximum number of bytes to read </td></tr>
    <tr><td class="paramname">_wait_time</td><td>How long to wait for data in milliseconds </td></tr>
    <tr><td class="paramname">_from_cmd</td><td>Whether this read is from a command response (unused) </td></tr>
    <tr><td class="paramname">_length_out</td><td>Number of bytes actually read </td></tr>
    <tr><td class="paramname">_timestamp_out</td><td>Timestamp when data was received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if receive was successful, false otherwise </dd></dl>

</div>
</div>
<a id="gaee4d8db1c6a3b49e5c6c6c94ecece049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee4d8db1c6a3b49e5c6c6c94ecece049">&#9670;&nbsp;</a></span>initialize_device()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initialize_device </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structserial__port.html">serial_port</a> *&#160;</td>
          <td class="paramname"><em>_device_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>_baudrate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs a complete device initialization sequence:</p><ol type="1">
<li>Sets up a MIP device interface with specified timeouts and callbacks</li>
<li>Verifies device communication with a ping command</li>
<li>Sets the device to idle mode to ensure reliable configuration</li>
<li>Queries and displays detailed device information</li>
<li>Loads default device settings for a known state</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>Pointer to a MIP device interface to initialize </td></tr>
    <tr><td class="paramname">_device_port</td><td>Pointer to an initialized serial port for device communication </td></tr>
    <tr><td class="paramname">_baudrate</td><td>Serial communication baudrate for the device </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad7ec0a7a4b1ab15a964cca061803ddc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7ec0a7a4b1ab15a964cca061803ddc6">&#9670;&nbsp;</a></span>terminate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void terminate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structserial__port.html">serial_port</a> *&#160;</td>
          <td class="paramname"><em>_device_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>_successful</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handles graceful shutdown when errors occur:</p><ul>
<li>Outputs provided error message</li>
<li>Closes device connection if open</li>
<li>Exits with appropriate status code</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device_port</td><td>Serial port connection to close </td></tr>
    <tr><td class="paramname">_message</td><td>Error message to display </td></tr>
    <tr><td class="paramname">_successful</td><td>Whether termination is due to success or failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga41f23b5b71931d62953238e0d845fc17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41f23b5b71931d62953238e0d845fc17">&#9670;&nbsp;</a></span>exit_from_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void exit_from_command </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_cmd_result&#160;</td>
          <td class="paramname"><em>_cmd_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handles command failure scenarios:</p><ul>
<li>Formats and displays an error message with command result</li>
<li>Closes device connection</li>
<li>Exits with failure status</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_device</td><td>MIP device interface for the command that failed </td></tr>
    <tr><td class="paramname">_cmd_result</td><td>Result code from a failed command </td></tr>
    <tr><td class="paramname">_format</td><td>Printf-style format string for error message </td></tr>
    <tr><td class="paramname">...</td><td>Variable arguments for format string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga8c6515fdb2cc5d8af272933be29930ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c6515fdb2cc5d8af272933be29930ec">&#9670;&nbsp;</a></span>PORT_NAME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* PORT_NAME = &quot;/dev/ttyACM0&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3948594ac93f0c5008fee3efcb07de77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3948594ac93f0c5008fee3efcb07de77">&#9670;&nbsp;</a></span>BAUDRATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t BAUDRATE = 115200</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>For native serial connections this needs to be 115200 due to the device default settings command Use mip_3dm_*_uart_baudrate() to write and save the baudrate on the device </dd></dl>

</div>
</div>
<a id="gad450e873c8cb75f9f6330604a42866db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad450e873c8cb75f9f6330604a42866db">&#9670;&nbsp;</a></span>SAMPLE_RATE_HZ</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint16_t SAMPLE_RATE_HZ = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga43b7a50ff09fe2ae8352833c8c48c81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43b7a50ff09fe2ae8352833c8c48c81b">&#9670;&nbsp;</a></span>RUN_TIME_SECONDS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t RUN_TIME_SECONDS = 30</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
