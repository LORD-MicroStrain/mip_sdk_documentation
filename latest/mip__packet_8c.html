<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP_SDK: src/c/mip/mip_packet.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MIP_SDK<span id="projectnumber">&#160;v2.0.0-138-ge38bbec</span>
   </div>
   <div id="projectbrief">MicroStrain Communications Library for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3b19ecf29356981f494745fbef7e56bf.html">c</a></li><li class="navelem"><a class="el" href="dir_055b1db5f1a3d744682f684d38e2c4e5.html">mip</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mip_packet.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mip__packet_8h_source.html">mip_packet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mip__offsets_8h_source.html">mip_offsets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mip__descriptors_8h_source.html">mip_descriptors.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="serialization_8h_source.html">microstrain/common/serialization.h</a>&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a115862b0b4dccd121ae7034e90fb239b" id="r_a115862b0b4dccd121ae7034e90fb239b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a115862b0b4dccd121ae7034e90fb239b">mip_packet_from_buffer</a> (mip_packet_view *packet, uint8_t *buffer, size_t length)</td></tr>
<tr class="memdesc:a115862b0b4dccd121ae7034e90fb239b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a MIP packet from an existing buffer.  <br /></td></tr>
<tr class="separator:a115862b0b4dccd121ae7034e90fb239b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed121fe8d708bf78a0015c2cb7470366" id="r_aed121fe8d708bf78a0015c2cb7470366"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#aed121fe8d708bf78a0015c2cb7470366">mip_packet_create</a> (mip_packet_view *packet, uint8_t *buffer, size_t buffer_size, uint8_t descriptor_set)</td></tr>
<tr class="memdesc:aed121fe8d708bf78a0015c2cb7470366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a brand-new MIP packet in the given buffer.  <br /></td></tr>
<tr class="separator:aed121fe8d708bf78a0015c2cb7470366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1451f69b143dd1de22ffdcb57b6fb9" id="r_a9b1451f69b143dd1de22ffdcb57b6fb9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a9b1451f69b143dd1de22ffdcb57b6fb9">mip_packet_descriptor_set</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a9b1451f69b143dd1de22ffdcb57b6fb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the MIP descriptor set for this packet.  <br /></td></tr>
<tr class="separator:a9b1451f69b143dd1de22ffdcb57b6fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53b190c8b55bb1e4e7e415d4ad04e76" id="r_aa53b190c8b55bb1e4e7e415d4ad04e76"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#aa53b190c8b55bb1e4e7e415d4ad04e76">mip_packet_payload_length</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:aa53b190c8b55bb1e4e7e415d4ad04e76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of the payload (MIP fields).  <br /></td></tr>
<tr class="separator:aa53b190c8b55bb1e4e7e415d4ad04e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbade2d3e18756efd8bca146f6dfb0d" id="r_a7fbade2d3e18756efd8bca146f6dfb0d"><td class="memItemLeft" align="right" valign="top">uint_least16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a7fbade2d3e18756efd8bca146f6dfb0d">mip_packet_total_length</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a7fbade2d3e18756efd8bca146f6dfb0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total length of the packet, in bytes.  <br /></td></tr>
<tr class="separator:a7fbade2d3e18756efd8bca146f6dfb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426788085d2dbb13cddb90a49eb1aab9" id="r_a426788085d2dbb13cddb90a49eb1aab9"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a426788085d2dbb13cddb90a49eb1aab9">mip_packet_buffer</a> (mip_packet_view *packet)</td></tr>
<tr class="memdesc:a426788085d2dbb13cddb90a49eb1aab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a writable pointer to the data buffer.  <br /></td></tr>
<tr class="separator:a426788085d2dbb13cddb90a49eb1aab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7a7ba8f9481edb392b4e3e25b8ff71" id="r_afb7a7ba8f9481edb392b4e3e25b8ff71"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#afb7a7ba8f9481edb392b4e3e25b8ff71">mip_packet_pointer</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:afb7a7ba8f9481edb392b4e3e25b8ff71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the data buffer containing the packet.  <br /></td></tr>
<tr class="separator:afb7a7ba8f9481edb392b4e3e25b8ff71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4421317773b9fa11db73ee37ec2d1f" id="r_a7c4421317773b9fa11db73ee37ec2d1f"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a7c4421317773b9fa11db73ee37ec2d1f">mip_packet_payload</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a7c4421317773b9fa11db73ee37ec2d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the packet's payload (the first field).  <br /></td></tr>
<tr class="separator:a7c4421317773b9fa11db73ee37ec2d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f548caa66d9a61f1376bd368f477cf1" id="r_a0f548caa66d9a61f1376bd368f477cf1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a0f548caa66d9a61f1376bd368f477cf1">mip_packet_checksum_value</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a0f548caa66d9a61f1376bd368f477cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of the checksum as written in the packet.  <br /></td></tr>
<tr class="separator:a0f548caa66d9a61f1376bd368f477cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735fe03205677f3d8938df80691caa2f" id="r_a735fe03205677f3d8938df80691caa2f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a735fe03205677f3d8938df80691caa2f">mip_packet_compute_checksum</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a735fe03205677f3d8938df80691caa2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the checksum of the MIP packet.  <br /></td></tr>
<tr class="separator:a735fe03205677f3d8938df80691caa2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35dade51986c14ca5721526807493d9" id="r_ac35dade51986c14ca5721526807493d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#ac35dade51986c14ca5721526807493d9">mip_packet_is_sane</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:ac35dade51986c14ca5721526807493d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the packet buffer is not NULL and is at least the minimum size (MIP_PACKET_LENGTH_MIN).  <br /></td></tr>
<tr class="separator:ac35dade51986c14ca5721526807493d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb80282024d4113a0172ccbbe74544c" id="r_aafb80282024d4113a0172ccbbe74544c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#aafb80282024d4113a0172ccbbe74544c">mip_packet_is_valid</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:aafb80282024d4113a0172ccbbe74544c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the packet is valid.  <br /></td></tr>
<tr class="separator:aafb80282024d4113a0172ccbbe74544c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bc09c57ad3928cfe351b180b02382e" id="r_af7bc09c57ad3928cfe351b180b02382e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#af7bc09c57ad3928cfe351b180b02382e">mip_packet_is_empty</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:af7bc09c57ad3928cfe351b180b02382e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the mip packet contains no payload.  <br /></td></tr>
<tr class="separator:af7bc09c57ad3928cfe351b180b02382e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cce9034ec78c7a09b4f52fbc9db36d" id="r_a01cce9034ec78c7a09b4f52fbc9db36d"><td class="memItemLeft" align="right" valign="top">uint_least16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a01cce9034ec78c7a09b4f52fbc9db36d">mip_packet_buffer_size</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a01cce9034ec78c7a09b4f52fbc9db36d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the buffer backing the MIP packet.  <br /></td></tr>
<tr class="separator:a01cce9034ec78c7a09b4f52fbc9db36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673b5a87065117952300df5b3e263cde" id="r_a673b5a87065117952300df5b3e263cde"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a673b5a87065117952300df5b3e263cde">mip_packet_remaining_space</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:a673b5a87065117952300df5b3e263cde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the remaining space available for more payload data.  <br /></td></tr>
<tr class="separator:a673b5a87065117952300df5b3e263cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad34ffc16d443fda33bad5f4ada72c748" id="r_ad34ffc16d443fda33bad5f4ada72c748"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#ad34ffc16d443fda33bad5f4ada72c748">mip_packet_is_data</a> (const mip_packet_view *packet)</td></tr>
<tr class="memdesc:ad34ffc16d443fda33bad5f4ada72c748"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the packet is from a data descriptor set.  <br /></td></tr>
<tr class="separator:ad34ffc16d443fda33bad5f4ada72c748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47455cc03571b882aff9e098df3fc0b6" id="r_a47455cc03571b882aff9e098df3fc0b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a47455cc03571b882aff9e098df3fc0b6">mip_packet_add_field</a> (mip_packet_view *packet, uint8_t field_descriptor, const uint8_t *payload, uint8_t payload_length)</td></tr>
<tr class="memdesc:a47455cc03571b882aff9e098df3fc0b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a pre-constructed MIP field to the packet.  <br /></td></tr>
<tr class="separator:a47455cc03571b882aff9e098df3fc0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461c55fb152c12311c3a512deea6e35a" id="r_a461c55fb152c12311c3a512deea6e35a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a461c55fb152c12311c3a512deea6e35a">mip_packet_alloc_field</a> (mip_packet_view *packet, uint8_t field_descriptor, uint8_t payload_length, uint8_t **const payload_ptr_out)</td></tr>
<tr class="memdesc:a461c55fb152c12311c3a512deea6e35a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a MIP field within the packet and return the payload pointer.  <br /></td></tr>
<tr class="separator:a461c55fb152c12311c3a512deea6e35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19cbb06e541cf99159a939906f6d8c96" id="r_a19cbb06e541cf99159a939906f6d8c96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a19cbb06e541cf99159a939906f6d8c96">mip_packet_realloc_last_field</a> (mip_packet_view *packet, uint8_t *payload_ptr, uint8_t new_payload_length)</td></tr>
<tr class="memdesc:a19cbb06e541cf99159a939906f6d8c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the size of the last field in the packet.  <br /></td></tr>
<tr class="separator:a19cbb06e541cf99159a939906f6d8c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ac38019a7e1015f8cfed5ce2633243" id="r_ac9ac38019a7e1015f8cfed5ce2633243"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#ac9ac38019a7e1015f8cfed5ce2633243">mip_packet_cancel_last_field</a> (mip_packet_view *packet, uint8_t *payload_ptr)</td></tr>
<tr class="memdesc:ac9ac38019a7e1015f8cfed5ce2633243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the last field from the packet after having allocated it.  <br /></td></tr>
<tr class="separator:ac9ac38019a7e1015f8cfed5ce2633243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f98c98aec23dbfa224eca2418fd52d0" id="r_a0f98c98aec23dbfa224eca2418fd52d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a0f98c98aec23dbfa224eca2418fd52d0">mip_packet_finalize</a> (mip_packet_view *packet)</td></tr>
<tr class="memdesc:a0f98c98aec23dbfa224eca2418fd52d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the packet for transmission by adding the checksum.  <br /></td></tr>
<tr class="separator:a0f98c98aec23dbfa224eca2418fd52d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b26f2053fe42cbf190b433b1c55832c" id="r_a3b26f2053fe42cbf190b433b1c55832c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__packet_8c.html#a3b26f2053fe42cbf190b433b1c55832c">mip_packet_reset</a> (mip_packet_view *packet, uint8_t descriptor_set)</td></tr>
<tr class="memdesc:a3b26f2053fe42cbf190b433b1c55832c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reinitialize the packet with the given descriptor set.  <br /></td></tr>
<tr class="separator:a3b26f2053fe42cbf190b433b1c55832c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a47455cc03571b882aff9e098df3fc0b6" name="a47455cc03571b882aff9e098df3fc0b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47455cc03571b882aff9e098df3fc0b6">&#9670;&#160;</a></span>mip_packet_add_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_packet_add_field </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>field_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>payload_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a pre-constructed MIP field to the packet. </p>
<div class="fragment"><div class="line">                                            +--------------------+</div>
<div class="line">                                            |  Payload Bytes     |</div>
<div class="line">                              Len  Desc     +--------------------+</div>
<div class="line">                               |    |        | copy</div>
<div class="line"> Packet Buffer                 V    V        V</div>
<div class="line">---------------+------------+-   -+-    -+--                  -+-</div>
<div class="line"> ...   Header  |   Field    | Len | Desc |  Payload            |</div>
<div class="line">---------------+------------+-----+------+---------------------+----------</div>
<div class="line">                            |                                  |</div>
<div class="line">                    End of last field   ---------------&gt;  End of <span class="keyword">new</span> field</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">field_descriptor</td><td>The MIP field descriptor (e.g. command or data descriptor). </td></tr>
    <tr><td class="paramname">payload</td><td>A pointer to the field payload data (without the header). Can be NULL if payload_length is 0. </td></tr>
    <tr><td class="paramname">payload_length</td><td>The length of the payload data. Must be less than or equal to MIP_FIELD_PAYLOAD_LENGTH_MAX. Does not include the header.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the field was added, or false if there was not enough space. </dd></dl>

</div>
</div>
<a id="a461c55fb152c12311c3a512deea6e35a" name="a461c55fb152c12311c3a512deea6e35a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a461c55fb152c12311c3a512deea6e35a">&#9670;&#160;</a></span>mip_packet_alloc_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mip_packet_alloc_field </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>field_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>payload_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **const&#160;</td>
          <td class="paramname"><em>payload_ptr_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a MIP field within the packet and return the payload pointer. </p>
<div class="fragment"><div class="line">                              Len   Desc  .---&gt; Payload ptr out</div>
<div class="line">                               |     |    |</div>
<div class="line"> Packet Buffer                 V     V    |</div>
<div class="line">---------------+------------+-   -+-    -+---------------------+----------</div>
<div class="line"> ...   Header  |   Field    | Len | Desc | (unwritten payload) |</div>
<div class="line">---------------+------------+-----+------+---------------------+----------</div>
<div class="line">                            |                                  |</div>
<div class="line">                    End of last field   ---------------&gt;  End of <span class="keyword">new</span> field</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">field_descriptor</td><td>The MIP field descriptor (e.g. command or data descriptor). </td></tr>
    <tr><td class="paramname">payload_length</td><td>The requested length of the field payload (not including the header). If the size is not known ahead of time, pass 0 and inspect the return value to see how much payload data can be written. Then call mip_packet_realloc_field() with the used size and same payload pointer. </td></tr>
    <tr><td class="paramname">payload_ptr_out</td><td>A pointer to a pointer to the field payload. This will receive the payload pointer into which data should be written.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of space remaining after allocating this field. If this is negative, the field could not be allocated and the payload must not be written. </dd></dl>

</div>
</div>
<a id="a426788085d2dbb13cddb90a49eb1aab9" name="a426788085d2dbb13cddb90a49eb1aab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426788085d2dbb13cddb90a49eb1aab9">&#9670;&#160;</a></span>mip_packet_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * mip_packet_buffer </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a writable pointer to the data buffer. </p>

</div>
</div>
<a id="a01cce9034ec78c7a09b4f52fbc9db36d" name="a01cce9034ec78c7a09b4f52fbc9db36d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cce9034ec78c7a09b4f52fbc9db36d">&#9670;&#160;</a></span>mip_packet_buffer_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint_least16_t mip_packet_buffer_size </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the buffer backing the MIP packet. </p>
<dl class="section note"><dt>Note</dt><dd>This is the BUFFER SIZE and not the packet length. </dd></dl>

</div>
</div>
<a id="ac9ac38019a7e1015f8cfed5ce2633243" name="ac9ac38019a7e1015f8cfed5ce2633243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ac38019a7e1015f8cfed5ce2633243">&#9670;&#160;</a></span>mip_packet_cancel_last_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mip_packet_cancel_last_field </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the last field from the packet after having allocated it. </p>
<p>Use only after allocating a field with mip_packet_alloc_field to cancel it. E.g. if it turns out that there isn't enough buffer space to write the payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">payload_ptr</td><td>Pointer to the field payload. This must be the same value returned from alloc_field and must point to the last field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The remaining space in the packet after removing the field. </dd></dl>

</div>
</div>
<a id="a0f548caa66d9a61f1376bd368f477cf1" name="a0f548caa66d9a61f1376bd368f477cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f548caa66d9a61f1376bd368f477cf1">&#9670;&#160;</a></span>mip_packet_checksum_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t mip_packet_checksum_value </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of the checksum as written in the packet. </p>
<p>This function does not compute the checksum. To do so, use <a class="el" href="mip__packet_8c.html#a735fe03205677f3d8938df80691caa2f" title="Computes the checksum of the MIP packet.">mip_packet_compute_checksum()</a>. </p>

</div>
</div>
<a id="a735fe03205677f3d8938df80691caa2f" name="a735fe03205677f3d8938df80691caa2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735fe03205677f3d8938df80691caa2f">&#9670;&#160;</a></span>mip_packet_compute_checksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t mip_packet_compute_checksum </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the checksum of the MIP packet. </p>
<dl class="section return"><dt>Returns</dt><dd>The computed checksum value. </dd></dl>

</div>
</div>
<a id="aed121fe8d708bf78a0015c2cb7470366" name="aed121fe8d708bf78a0015c2cb7470366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed121fe8d708bf78a0015c2cb7470366">&#9670;&#160;</a></span>mip_packet_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_packet_create </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a brand-new MIP packet in the given buffer. </p>
<p>Use this along with the packet building functions to create MIP packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">buffer</td><td>This is where the packet bytes will be stored. Must be at least MIP_PACKET_LENGTH_MIN bytes in size. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of buffer, in bytes. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td>The MIP descriptor set for the packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b1451f69b143dd1de22ffdcb57b6fb9" name="a9b1451f69b143dd1de22ffdcb57b6fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1451f69b143dd1de22ffdcb57b6fb9">&#9670;&#160;</a></span>mip_packet_descriptor_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t mip_packet_descriptor_set </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the MIP descriptor set for this packet. </p>

</div>
</div>
<a id="a0f98c98aec23dbfa224eca2418fd52d0" name="a0f98c98aec23dbfa224eca2418fd52d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f98c98aec23dbfa224eca2418fd52d0">&#9670;&#160;</a></span>mip_packet_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_packet_finalize </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares the packet for transmission by adding the checksum. </p>
<p>This does not increase the total packet length since the checksum is always implicitly included.</p>
<div class="fragment"><div class="line">                                                         Checksum</div>
<div class="line">                                                           VVVV</div>
<div class="line">---------------+------------+------------+-----<span class="comment">//-----+--        --+----</span></div>
<div class="line"> ...   Header  |   Field    |   Field    |     ...    |  (empty)   |</div>
<div class="line">---------------+------------+------------+-----<span class="comment">//-----+------------+----</span></div>
<div class="line">                                                      |            |</div>
<div class="line">                                           End of last field       |</div>
<div class="line">                                                              Total Length</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a115862b0b4dccd121ae7034e90fb239b" name="a115862b0b4dccd121ae7034e90fb239b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a115862b0b4dccd121ae7034e90fb239b">&#9670;&#160;</a></span>mip_packet_from_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_packet_from_buffer </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a MIP packet from an existing buffer. </p>
<p>Use this when receiving or parsing MIP packets.</p>
<p>The data in the buffer should be a valid or suspected MIP packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">buffer</td><td>The data buffer containing the bytes for a MIP packet. Must be at least MIP_PACKET_LENGTH_MIN bytes in size. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the data pointed to by buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The data does not need to be a valid MIP packet, for instance to use the <a class="el" href="mip__packet_8c.html#ac35dade51986c14ca5721526807493d9" title="Returns true if the packet buffer is not NULL and is at least the minimum size (MIP_PACKET_LENGTH_MIN...">mip_packet_is_sane()</a> or <a class="el" href="mip__packet_8c.html#aafb80282024d4113a0172ccbbe74544c" title="Returns true if the packet is valid.">mip_packet_is_valid()</a> functions. However, if it is NOT a valid MIP packet, the result of calling any accessor function is unpredictable. In particular, if length is less than MIP_PACKET_LENGTH_MIN bytes, calling the accessor functions is undefined behavior. </dd></dl>

</div>
</div>
<a id="ad34ffc16d443fda33bad5f4ada72c748" name="ad34ffc16d443fda33bad5f4ada72c748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad34ffc16d443fda33bad5f4ada72c748">&#9670;&#160;</a></span>mip_packet_is_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_packet_is_data </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the packet is from a data descriptor set. </p>
<dl class="section see"><dt>See also</dt><dd>is_data_descriptor_set</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if the packet contains data. </dd>
<dd>
false if it contains commands or replies. </dd></dl>

</div>
</div>
<a id="af7bc09c57ad3928cfe351b180b02382e" name="af7bc09c57ad3928cfe351b180b02382e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7bc09c57ad3928cfe351b180b02382e">&#9670;&#160;</a></span>mip_packet_is_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_packet_is_empty </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the mip packet contains no payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the packet has a payload length of 0. </dd></dl>

</div>
</div>
<a id="ac35dade51986c14ca5721526807493d9" name="ac35dade51986c14ca5721526807493d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35dade51986c14ca5721526807493d9">&#9670;&#160;</a></span>mip_packet_is_sane()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_packet_is_sane </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the packet buffer is not NULL and is at least the minimum size (MIP_PACKET_LENGTH_MIN). </p>
<p>If the packet is not 'sane', then none of the mip_packet_* functions may be used to access it (to do so is undefined behavior). This should never occur in normal circumstances. </p>

</div>
</div>
<a id="aafb80282024d4113a0172ccbbe74544c" name="aafb80282024d4113a0172ccbbe74544c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb80282024d4113a0172ccbbe74544c">&#9670;&#160;</a></span>mip_packet_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_packet_is_valid </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the packet is valid. </p>
<p>A packet is valid if:</p><ul>
<li><a class="el" href="mip__packet_8c.html#ac35dade51986c14ca5721526807493d9" title="Returns true if the packet buffer is not NULL and is at least the minimum size (MIP_PACKET_LENGTH_MIN...">mip_packet_is_sane()</a> returns true,</li>
<li>The descriptor set is not 0x00, and</li>
<li>The checksum is valid. </li>
</ul>

</div>
</div>
<a id="a7c4421317773b9fa11db73ee37ec2d1f" name="a7c4421317773b9fa11db73ee37ec2d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c4421317773b9fa11db73ee37ec2d1f">&#9670;&#160;</a></span>mip_packet_payload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * mip_packet_payload </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the packet's payload (the first field). </p>

</div>
</div>
<a id="aa53b190c8b55bb1e4e7e415d4ad04e76" name="aa53b190c8b55bb1e4e7e415d4ad04e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa53b190c8b55bb1e4e7e415d4ad04e76">&#9670;&#160;</a></span>mip_packet_payload_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t mip_packet_payload_length </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the length of the payload (MIP fields). </p>

</div>
</div>
<a id="afb7a7ba8f9481edb392b4e3e25b8ff71" name="afb7a7ba8f9481edb392b4e3e25b8ff71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7a7ba8f9481edb392b4e3e25b8ff71">&#9670;&#160;</a></span>mip_packet_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * mip_packet_pointer </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the data buffer containing the packet. </p>

</div>
</div>
<a id="a19cbb06e541cf99159a939906f6d8c96" name="a19cbb06e541cf99159a939906f6d8c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19cbb06e541cf99159a939906f6d8c96">&#9670;&#160;</a></span>mip_packet_realloc_last_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mip_packet_realloc_last_field </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>new_payload_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the size of the last field in the packet. </p>
<p>Use this in conjunction with <a class="el" href="mip__packet_8c.html#a461c55fb152c12311c3a512deea6e35a" title="Allocate a MIP field within the packet and return the payload pointer.">mip_packet_alloc_field()</a> when the size of the field is not known in advance. Pass a payload size of 0 to alloc_field and check that the returned available space is sufficient, then write the payload and call this function with the actual space used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">payload_ptr</td><td>Pointer to the field payload. This must be the same value returned from alloc_field and must point to the last field. </td></tr>
    <tr><td class="paramname">new_payload_length</td><td>Length of payload written. Generally it is an error for this to exceed the actual amount of space available in the packet. In this case, the packet is left with just the empty field and the return value will be negative.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The space remaining in the packet after changing the field size. This will be negative if the new length did not fit. </dd></dl>

</div>
</div>
<a id="a673b5a87065117952300df5b3e263cde" name="a673b5a87065117952300df5b3e263cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673b5a87065117952300df5b3e263cde">&#9670;&#160;</a></span>mip_packet_remaining_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mip_packet_remaining_space </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the remaining space available for more payload data. </p>
<p>This is equal to the buffer size less the total packet length.</p>
<dl class="section warning"><dt>Warning</dt><dd>The result may be negative if the packet length exceeds the actual buffer capacity. Such packets are not 'sane' (mip_packet_is_sane) and can only be produced by manipulating the buffered data directly. </dd></dl>

</div>
</div>
<a id="a3b26f2053fe42cbf190b433b1c55832c" name="a3b26f2053fe42cbf190b433b1c55832c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b26f2053fe42cbf190b433b1c55832c">&#9670;&#160;</a></span>mip_packet_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_packet_reset </td>
          <td>(</td>
          <td class="paramtype">mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reinitialize the packet with the given descriptor set. </p>
<p>This clears out all of the fields but keeps the same buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td></td></tr>
    <tr><td class="paramname">descriptor_set</td><td>New descriptor set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7fbade2d3e18756efd8bca146f6dfb0d" name="a7fbade2d3e18756efd8bca146f6dfb0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbade2d3e18756efd8bca146f6dfb0d">&#9670;&#160;</a></span>mip_packet_total_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint_least16_t mip_packet_total_length </td>
          <td>(</td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total length of the packet, in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>The length of the packet. Always at least MIP_PACKET_LENGTH_MIN. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
