<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP_SDK: src/c/mip/mip_interface.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MIP_SDK<span id="projectnumber">&#160;v2.0.0-137-g8a814ec</span>
   </div>
   <div id="projectbrief">MicroStrain Communications Library for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3b19ecf29356981f494745fbef7e56bf.html">c</a></li><li class="navelem"><a class="el" href="dir_055b1db5f1a3d744682f684d38e2c4e5.html">mip</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mip_interface.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mip__interface_8h_source.html">mip_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mip__field_8h_source.html">mip_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mip__descriptors_8h_source.html">mip_descriptors.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae96e23fcd1b9f3d47ec47016c8b4e21d" id="r_ae96e23fcd1b9f3d47ec47016c8b4e21d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ae96e23fcd1b9f3d47ec47016c8b4e21d">mip_interface_init</a> (mip_interface *device, uint8_t *parse_buffer, size_t parse_buffer_size, mip_timeout parse_timeout, mip_timeout base_reply_timeout, mip_send_callback send, mip_recv_callback recv, mip_update_callback update, void *user_pointer)</td></tr>
<tr class="memdesc:ae96e23fcd1b9f3d47ec47016c8b4e21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mip_interface components.  <br /></td></tr>
<tr class="separator:ae96e23fcd1b9f3d47ec47016c8b4e21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56443be8aaa8400a01788798364a93b3" id="r_a56443be8aaa8400a01788798364a93b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a56443be8aaa8400a01788798364a93b3">mip_interface_set_send_function</a> (mip_interface *device, mip_send_callback callback)</td></tr>
<tr class="memdesc:a56443be8aaa8400a01788798364a93b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the send callback function.  <br /></td></tr>
<tr class="separator:a56443be8aaa8400a01788798364a93b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a275705400661bcdc0787b2fff3585f72" id="r_a275705400661bcdc0787b2fff3585f72"><td class="memItemLeft" align="right" valign="top">mip_send_callback&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a275705400661bcdc0787b2fff3585f72">mip_interface_send_function</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:a275705400661bcdc0787b2fff3585f72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the send function pointer.  <br /></td></tr>
<tr class="separator:a275705400661bcdc0787b2fff3585f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48683f89916015e012a78288585f0fa7" id="r_a48683f89916015e012a78288585f0fa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a48683f89916015e012a78288585f0fa7">mip_interface_set_recv_function</a> (mip_interface *device, mip_recv_callback callback)</td></tr>
<tr class="memdesc:a48683f89916015e012a78288585f0fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the receive callback function.  <br /></td></tr>
<tr class="separator:a48683f89916015e012a78288585f0fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f602cf7cbfead68999acd2a364a450d" id="r_a2f602cf7cbfead68999acd2a364a450d"><td class="memItemLeft" align="right" valign="top">mip_recv_callback&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a2f602cf7cbfead68999acd2a364a450d">mip_interface_recv_function</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:a2f602cf7cbfead68999acd2a364a450d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the receive function pointer.  <br /></td></tr>
<tr class="separator:a2f602cf7cbfead68999acd2a364a450d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08600beae9c11f5b7da8fa26f56ddd05" id="r_a08600beae9c11f5b7da8fa26f56ddd05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a08600beae9c11f5b7da8fa26f56ddd05">mip_interface_set_update_function</a> (mip_interface *device, mip_update_callback callback)</td></tr>
<tr class="memdesc:a08600beae9c11f5b7da8fa26f56ddd05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the update function.  <br /></td></tr>
<tr class="separator:a08600beae9c11f5b7da8fa26f56ddd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71ae7dda149826ada48fd8baca3b06f" id="r_ab71ae7dda149826ada48fd8baca3b06f"><td class="memItemLeft" align="right" valign="top">mip_update_callback&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ab71ae7dda149826ada48fd8baca3b06f">mip_interface_update_function</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:ab71ae7dda149826ada48fd8baca3b06f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the update function pointer.  <br /></td></tr>
<tr class="separator:ab71ae7dda149826ada48fd8baca3b06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a4657f0544a232b95ea152f3561c8f" id="r_af9a4657f0544a232b95ea152f3561c8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f">mip_interface_set_user_pointer</a> (mip_interface *device, void *pointer)</td></tr>
<tr class="memdesc:af9a4657f0544a232b95ea152f3561c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an optional user data pointer which can be retrieved later.  <br /></td></tr>
<tr class="separator:af9a4657f0544a232b95ea152f3561c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be4f53d0468abb00f6993566f8111a0" id="r_a1be4f53d0468abb00f6993566f8111a0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a1be4f53d0468abb00f6993566f8111a0">mip_interface_user_pointer</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:a1be4f53d0468abb00f6993566f8111a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the pointer set by <a class="el" href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f" title="Sets an optional user data pointer which can be retrieved later.">mip_interface_set_user_pointer()</a>.  <br /></td></tr>
<tr class="separator:a1be4f53d0468abb00f6993566f8111a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122ab5c17a49bb116c7e1fd4932fa7dd" id="r_a122ab5c17a49bb116c7e1fd4932fa7dd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a122ab5c17a49bb116c7e1fd4932fa7dd">mip_interface_max_packets_per_update</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:a122ab5c17a49bb116c7e1fd4932fa7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum number of packets to parser per update call.  <br /></td></tr>
<tr class="separator:a122ab5c17a49bb116c7e1fd4932fa7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f1100f168bc9aa76be51d661c38c99" id="r_ac9f1100f168bc9aa76be51d661c38c99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ac9f1100f168bc9aa76be51d661c38c99">mip_interface_set_max_packets_per_update</a> (mip_interface *device, unsigned int max_packets)</td></tr>
<tr class="memdesc:ac9f1100f168bc9aa76be51d661c38c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a limit on the number of packets which can be processed in one call to the <a class="el" href="mip__interface_8c.html#a82bbc9760a10376fef5862e5d0660e93" title="Passes data from the device into the parser.">mip_interface_receive_bytes()</a> function.  <br /></td></tr>
<tr class="separator:ac9f1100f168bc9aa76be51d661c38c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de692a5ad0402bb5de030d87ee1370d" id="r_a5de692a5ad0402bb5de030d87ee1370d"><td class="memItemLeft" align="right" valign="top">mip_parser *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a5de692a5ad0402bb5de030d87ee1370d">mip_interface_parser</a> (mip_interface *device)</td></tr>
<tr class="memdesc:a5de692a5ad0402bb5de030d87ee1370d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the MIP parser for the device.  <br /></td></tr>
<tr class="separator:a5de692a5ad0402bb5de030d87ee1370d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928886ed0d99e16ff6e6e9b9cd07e2b8" id="r_a928886ed0d99e16ff6e6e9b9cd07e2b8"><td class="memItemLeft" align="right" valign="top">mip_cmd_queue *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a928886ed0d99e16ff6e6e9b9cd07e2b8">mip_interface_cmd_queue</a> (mip_interface *device)</td></tr>
<tr class="memdesc:a928886ed0d99e16ff6e6e9b9cd07e2b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the commmand queue for the device.  <br /></td></tr>
<tr class="separator:a928886ed0d99e16ff6e6e9b9cd07e2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fa9fd65c16218bd12716658f70f680" id="r_ae2fa9fd65c16218bd12716658f70f680"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ae2fa9fd65c16218bd12716658f70f680">mip_interface_send_to_device</a> (mip_interface *device, const uint8_t *data, size_t length)</td></tr>
<tr class="memdesc:ae2fa9fd65c16218bd12716658f70f680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to the port (i.e. from this library to the physical device).  <br /></td></tr>
<tr class="separator:ae2fa9fd65c16218bd12716658f70f680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383ac1249c4e7706271f48f616b85b93" id="r_a383ac1249c4e7706271f48f616b85b93"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a383ac1249c4e7706271f48f616b85b93">mip_interface_recv_from_device</a> (mip_interface *device, uint8_t *buffer, size_t max_length, mip_timeout wait_time, size_t *length_out, mip_timestamp *timestamp_out)</td></tr>
<tr class="memdesc:a383ac1249c4e7706271f48f616b85b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for data at the port and reads it into buffer.  <br /></td></tr>
<tr class="separator:a383ac1249c4e7706271f48f616b85b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65014a7ec13d14107f5840653ebfab74" id="r_a65014a7ec13d14107f5840653ebfab74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a65014a7ec13d14107f5840653ebfab74">mip_interface_update</a> (struct mip_interface *device, mip_timeout wait_time)</td></tr>
<tr class="memdesc:a65014a7ec13d14107f5840653ebfab74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to process data from the device.  <br /></td></tr>
<tr class="separator:a65014a7ec13d14107f5840653ebfab74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038ef43240f17096f64766f6a955fff2" id="r_a038ef43240f17096f64766f6a955fff2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a038ef43240f17096f64766f6a955fff2">mip_interface_default_update</a> (struct mip_interface *device, mip_timeout wait_time)</td></tr>
<tr class="memdesc:a038ef43240f17096f64766f6a955fff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls the port for new data or command replies.  <br /></td></tr>
<tr class="separator:a038ef43240f17096f64766f6a955fff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82bbc9760a10376fef5862e5d0660e93" id="r_a82bbc9760a10376fef5862e5d0660e93"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a82bbc9760a10376fef5862e5d0660e93">mip_interface_receive_bytes</a> (mip_interface *device, const uint8_t *data, size_t length, mip_timestamp timestamp)</td></tr>
<tr class="memdesc:a82bbc9760a10376fef5862e5d0660e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passes data from the device into the parser.  <br /></td></tr>
<tr class="separator:a82bbc9760a10376fef5862e5d0660e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8625171b2cc6ee76ad7b52f64ed8c0a0" id="r_a8625171b2cc6ee76ad7b52f64ed8c0a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a8625171b2cc6ee76ad7b52f64ed8c0a0">mip_interface_process_unparsed_packets</a> (mip_interface *device)</td></tr>
<tr class="memdesc:a8625171b2cc6ee76ad7b52f64ed8c0a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process more packets from the internal buffer.  <br /></td></tr>
<tr class="separator:a8625171b2cc6ee76ad7b52f64ed8c0a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ff80019d518f2e7c911e7563414755" id="r_aa1ff80019d518f2e7c911e7563414755"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#aa1ff80019d518f2e7c911e7563414755">mip_interface_receive_packet</a> (mip_interface *device, const mip_packet_view *packet, mip_timestamp timestamp)</td></tr>
<tr class="memdesc:aa1ff80019d518f2e7c911e7563414755"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a pre-parsed packet for command replies and data.  <br /></td></tr>
<tr class="separator:aa1ff80019d518f2e7c911e7563414755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af91ed9a2a42be5eae3ad32015a67e0" id="r_a5af91ed9a2a42be5eae3ad32015a67e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a5af91ed9a2a42be5eae3ad32015a67e0">mip_interface_parse_callback</a> (void *device, const mip_packet_view *packet, mip_timestamp timestamp)</td></tr>
<tr class="memdesc:a5af91ed9a2a42be5eae3ad32015a67e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around mip_interface_receive_packet for use with mip_parser.  <br /></td></tr>
<tr class="separator:a5af91ed9a2a42be5eae3ad32015a67e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9949aed4b255ea362978c33c32043d" id="r_a2e9949aed4b255ea362978c33c32043d"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a2e9949aed4b255ea362978c33c32043d">mip_interface_wait_for_reply</a> (mip_interface *device, mip_pending_cmd *cmd)</td></tr>
<tr class="memdesc:a2e9949aed4b255ea362978c33c32043d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until the pending command completes or times out.  <br /></td></tr>
<tr class="separator:a2e9949aed4b255ea362978c33c32043d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2992fa8b70e4dfa00cd5a828ef8defcb" id="r_a2992fa8b70e4dfa00cd5a828ef8defcb"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a2992fa8b70e4dfa00cd5a828ef8defcb">mip_interface_run_command</a> (mip_interface *device, uint8_t descriptor_set, uint8_t cmd_descriptor, const uint8_t *cmd_data, uint8_t cmd_length)</td></tr>
<tr class="memdesc:a2992fa8b70e4dfa00cd5a828ef8defcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a command using a pre-serialized payload.  <br /></td></tr>
<tr class="separator:a2992fa8b70e4dfa00cd5a828ef8defcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66bb3f761c33e760c3e263b09ae4528" id="r_ac66bb3f761c33e760c3e263b09ae4528"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ac66bb3f761c33e760c3e263b09ae4528">mip_interface_run_command_with_response</a> (mip_interface *device, uint8_t descriptor_set, uint8_t cmd_descriptor, const uint8_t *cmd_data, uint8_t cmd_length, uint8_t response_descriptor, uint8_t *response_buffer, uint8_t *response_length_inout)</td></tr>
<tr class="memdesc:ac66bb3f761c33e760c3e263b09ae4528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a command using a pre-serialized payload.  <br /></td></tr>
<tr class="separator:ac66bb3f761c33e760c3e263b09ae4528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b2dade015dce3a995ab0e5d3377074" id="r_a45b2dade015dce3a995ab0e5d3377074"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a45b2dade015dce3a995ab0e5d3377074">mip_interface_run_command_packet</a> (mip_interface *device, const mip_packet_view *packet, mip_pending_cmd *cmd)</td></tr>
<tr class="memdesc:a45b2dade015dce3a995ab0e5d3377074"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to mip_interface_start_command_packet but waits for the command to complete.  <br /></td></tr>
<tr class="separator:a45b2dade015dce3a995ab0e5d3377074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa61aa9f0102ff2f8ee8633721714f9" id="r_a6aa61aa9f0102ff2f8ee8633721714f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a6aa61aa9f0102ff2f8ee8633721714f9">mip_interface_start_command_packet</a> (mip_interface *device, const mip_packet_view *packet, mip_pending_cmd *cmd)</td></tr>
<tr class="memdesc:a6aa61aa9f0102ff2f8ee8633721714f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues the command and sends the packet. Does not wait for completion.  <br /></td></tr>
<tr class="separator:a6aa61aa9f0102ff2f8ee8633721714f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f83502d13a2a4b5a82e8a78618fc0a5" id="r_a5f83502d13a2a4b5a82e8a78618fc0a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a5f83502d13a2a4b5a82e8a78618fc0a5">mip_interface_register_packet_callback</a> (mip_interface *device, mip_dispatch_handler *handler, uint8_t descriptor_set, bool after_fields, mip_dispatch_packet_callback callback, void *user_data)</td></tr>
<tr class="memdesc:a5f83502d13a2a4b5a82e8a78618fc0a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback for packets of the specified descriptor set.  <br /></td></tr>
<tr class="separator:a5f83502d13a2a4b5a82e8a78618fc0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf2e4a9789c9327184f2e7fccb5b924" id="r_a6cf2e4a9789c9327184f2e7fccb5b924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a6cf2e4a9789c9327184f2e7fccb5b924">mip_interface_register_field_callback</a> (mip_interface *device, mip_dispatch_handler *handler, uint8_t descriptor_set, uint8_t field_descriptor, mip_dispatch_field_callback callback, void *user_data)</td></tr>
<tr class="memdesc:a6cf2e4a9789c9327184f2e7fccb5b924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback for packets of the specified descriptor set.  <br /></td></tr>
<tr class="separator:a6cf2e4a9789c9327184f2e7fccb5b924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743a593a631bdf481f9f8f87f59ec7ca" id="r_a743a593a631bdf481f9f8f87f59ec7ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a743a593a631bdf481f9f8f87f59ec7ca">mip_interface_register_extractor</a> (mip_interface *device, mip_dispatch_handler *handler, uint8_t descriptor_set, uint8_t field_descriptor, mip_dispatch_extractor extractor, void *field_ptr)</td></tr>
<tr class="memdesc:a743a593a631bdf481f9f8f87f59ec7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback for packets of the specified descriptor set.  <br /></td></tr>
<tr class="separator:a743a593a631bdf481f9f8f87f59ec7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a928886ed0d99e16ff6e6e9b9cd07e2b8" name="a928886ed0d99e16ff6e6e9b9cd07e2b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928886ed0d99e16ff6e6e9b9cd07e2b8">&#9670;&#160;</a></span>mip_interface_cmd_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_cmd_queue * mip_interface_cmd_queue </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the commmand queue for the device. </p>

</div>
</div>
<a id="a038ef43240f17096f64766f6a955fff2" name="a038ef43240f17096f64766f6a955fff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038ef43240f17096f64766f6a955fff2">&#9670;&#160;</a></span>mip_interface_default_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_default_update </td>
          <td>(</td>
          <td class="paramtype">struct mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timeout&#160;</td>
          <td class="paramname"><em>wait_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Polls the port for new data or command replies. </p>
<p>This is the default choice for the user update function. It ignores the blocking flag and always reads data from the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">wait_time</td><td>Time to wait for data to be received. Passed directly to <a class="el" href="mip__interface_8c.html#a383ac1249c4e7706271f48f616b85b93" title="Checks for data at the port and reads it into buffer.">mip_interface_recv_from_device()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value returned by mip_interface_user_recv_from_device. </dd></dl>

</div>
</div>
<a id="ae96e23fcd1b9f3d47ec47016c8b4e21d" name="ae96e23fcd1b9f3d47ec47016c8b4e21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96e23fcd1b9f3d47ec47016c8b4e21d">&#9670;&#160;</a></span>mip_interface_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_init </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>parse_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>parse_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timeout&#160;</td>
          <td class="paramname"><em>parse_timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timeout&#160;</td>
          <td class="paramname"><em>base_reply_timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_send_callback&#160;</td>
          <td class="paramname"><em>send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_recv_callback&#160;</td>
          <td class="paramname"><em>recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_update_callback&#160;</td>
          <td class="paramname"><em>update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the mip_interface components. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">parse_buffer</td><td>A working buffer for the MIP parser. See <a class="el" href="mip__parser_8c.html#a145d7e2d3fb75057ec3b8d0619916f8a" title="Initializes the MIP parser.">mip_parser_init()</a>. </td></tr>
    <tr><td class="paramname">parse_buffer_size</td><td>Size of the parsing buffer. Must be at least MIP_PACKET_LENGTH_MAX. </td></tr>
    <tr><td class="paramname">parse_timeout</td><td>Maximum length of time to wait for the end of a MIP packet. See <a class="el" href="mip__parser_8c.html#a145d7e2d3fb75057ec3b8d0619916f8a" title="Initializes the MIP parser.">mip_parser_init()</a>. </td></tr>
    <tr><td class="paramname">base_reply_timeout</td><td>Minimum time for all commands. See <a class="el" href="mip__cmdqueue_8c.html#a585e18172287aa30138ea682c976c4bf" title="Initializes a command queue.">mip_cmd_queue_init()</a>. </td></tr>
    <tr><td class="paramname">send</td><td>A callback which is called to send data to the device. </td></tr>
    <tr><td class="paramname">recv</td><td>A callback which is called when data needs to be read from the device. </td></tr>
    <tr><td class="paramname">update</td><td>Optional callback which is called to perform routine tasks such as checking for command timeouts. Defaults to mip_interface_default_update. </td></tr>
    <tr><td class="paramname">user_pointer</td><td>Optional pointer which is passed to the send, recv, and update callbacks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a122ab5c17a49bb116c7e1fd4932fa7dd" name="a122ab5c17a49bb116c7e1fd4932fa7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122ab5c17a49bb116c7e1fd4932fa7dd">&#9670;&#160;</a></span>mip_interface_max_packets_per_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int mip_interface_max_packets_per_update </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the maximum number of packets to parser per update call. </p>

</div>
</div>
<a id="a5af91ed9a2a42be5eae3ad32015a67e0" name="a5af91ed9a2a42be5eae3ad32015a67e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af91ed9a2a42be5eae3ad32015a67e0">&#9670;&#160;</a></span>mip_interface_parse_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_parse_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around mip_interface_receive_packet for use with mip_parser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Void pointer to the device. Must be a mip_interface pointer. </td></tr>
    <tr><td class="paramname">packet</td><td>MIP Packet from the parser. </td></tr>
    <tr><td class="paramname">timestamp</td><td>timestamp_type of the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True </dd></dl>

</div>
</div>
<a id="a5de692a5ad0402bb5de030d87ee1370d" name="a5de692a5ad0402bb5de030d87ee1370d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de692a5ad0402bb5de030d87ee1370d">&#9670;&#160;</a></span>mip_interface_parser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_parser * mip_interface_parser </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the MIP parser for the device. </p>

</div>
</div>
<a id="a8625171b2cc6ee76ad7b52f64ed8c0a0" name="a8625171b2cc6ee76ad7b52f64ed8c0a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8625171b2cc6ee76ad7b52f64ed8c0a0">&#9670;&#160;</a></span>mip_interface_process_unparsed_packets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_process_unparsed_packets </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process more packets from the internal buffer. </p>
<p>This is an alternative to <a class="el" href="mip__interface_8c.html#a82bbc9760a10376fef5862e5d0660e93" title="Passes data from the device into the parser.">mip_interface_receive_bytes()</a> for the case when no new input data is available and max_packets is nonzero. The timestamp is reused from the last call to receive_bytes.</p>
<p>This function obeys the max_packets_per_update setting.</p>
<dl class="section note"><dt>Note</dt><dd>Calling this function when max_packets_per_update is zero is unnecessary and has no effect. </dd></dl>

</div>
</div>
<a id="a82bbc9760a10376fef5862e5d0660e93" name="a82bbc9760a10376fef5862e5d0660e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82bbc9760a10376fef5862e5d0660e93">&#9670;&#160;</a></span>mip_interface_receive_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t mip_interface_receive_bytes </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passes data from the device into the parser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">data</td><td>Input data buffer. May be NULL if length == 0. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the input buffer. Must be 0 if data is NULL. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Time of the received data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of data which couldn't be processed due to the limit on number of packets per parse call. Normally the result is 0. </dd></dl>

</div>
</div>
<a id="aa1ff80019d518f2e7c911e7563414755" name="aa1ff80019d518f2e7c911e7563414755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ff80019d518f2e7c911e7563414755">&#9670;&#160;</a></span>mip_interface_receive_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_receive_packet </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a pre-parsed packet for command replies and data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">packet</td><td>The received MIP packet. </td></tr>
    <tr><td class="paramname">timestamp</td><td>timestamp_type of the received MIP packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a383ac1249c4e7706271f48f616b85b93" name="a383ac1249c4e7706271f48f616b85b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383ac1249c4e7706271f48f616b85b93">&#9670;&#160;</a></span>mip_interface_recv_from_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_recv_from_device </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timeout&#160;</td>
          <td class="paramname"><em>wait_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>length_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timestamp *&#160;</td>
          <td class="paramname"><em>timestamp_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for data at the port and reads it into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">buffer</td><td>A place to store the data. </td></tr>
    <tr><td class="paramname">max_length</td><td>Maximum number of bytes to read into buffer. </td></tr>
    <tr><td class="paramname">wait_time</td><td>Maximum time to wait for data. May be 0. </td></tr>
    <tr><td class="paramname">length_out</td><td>The number of bytes successfully read into buffer. </td></tr>
    <tr><td class="paramname">timestamp_out</td><td>The timestamp of the received data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful (even if 0 bytes were read). </dd>
<dd>
False if the receive callback is NULL. </dd>
<dd>
False if the receive callback failed (i.e. if it returned false). </dd></dl>

</div>
</div>
<a id="a2f602cf7cbfead68999acd2a364a450d" name="a2f602cf7cbfead68999acd2a364a450d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f602cf7cbfead68999acd2a364a450d">&#9670;&#160;</a></span>mip_interface_recv_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_recv_callback mip_interface_recv_function </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the receive function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The receive callback function. May be NULL. </dd></dl>

</div>
</div>
<a id="a743a593a631bdf481f9f8f87f59ec7ca" name="a743a593a631bdf481f9f8f87f59ec7ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743a593a631bdf481f9f8f87f59ec7ca">&#9670;&#160;</a></span>mip_interface_register_extractor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_register_extractor </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>field_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_extractor&#160;</td>
          <td class="paramname"><em>extractor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>field_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback for packets of the specified descriptor set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">handler</td><td>An uninitialized mip_dispatch_handler object. This call will initialize it. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td></td></tr>
    <tr><td class="paramname">field_descriptor</td><td></td></tr>
    <tr><td class="paramname">extractor</td><td></td></tr>
    <tr><td class="paramname">field_ptr</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>mip_dispatch_handler_init_extract_handler for details. </dd></dl>

</div>
</div>
<a id="a6cf2e4a9789c9327184f2e7fccb5b924" name="a6cf2e4a9789c9327184f2e7fccb5b924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf2e4a9789c9327184f2e7fccb5b924">&#9670;&#160;</a></span>mip_interface_register_field_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_register_field_callback </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>field_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_field_callback&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback for packets of the specified descriptor set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">handler</td><td>An uninitialized mip_dispatch_handler object. This call will initialize it. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td></td></tr>
    <tr><td class="paramname">field_descriptor</td><td></td></tr>
    <tr><td class="paramname">callback</td><td></td></tr>
    <tr><td class="paramname">user_data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>mip_dispatch_handler_init_field_handler for details. </dd></dl>

</div>
</div>
<a id="a5f83502d13a2a4b5a82e8a78618fc0a5" name="a5f83502d13a2a4b5a82e8a78618fc0a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f83502d13a2a4b5a82e8a78618fc0a5">&#9670;&#160;</a></span>mip_interface_register_packet_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_register_packet_callback </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>after_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_packet_callback&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback for packets of the specified descriptor set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">handler</td><td>An uninitialized mip_dispatch_handler object. This call will initialize it. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td></td></tr>
    <tr><td class="paramname">after_fields</td><td></td></tr>
    <tr><td class="paramname">callback</td><td></td></tr>
    <tr><td class="paramname">user_data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>mip_dispatch_handler_init_packet_handler for details. </dd></dl>

</div>
</div>
<a id="a2992fa8b70e4dfa00cd5a828ef8defcb" name="a2992fa8b70e4dfa00cd5a828ef8defcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2992fa8b70e4dfa00cd5a828ef8defcb">&#9670;&#160;</a></span>mip_interface_run_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_run_command </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>cmd_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a command using a pre-serialized payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">descriptor_set</td><td>Command descriptor set. </td></tr>
    <tr><td class="paramname">cmd_descriptor</td><td>Command field descriptor. </td></tr>
    <tr><td class="paramname">cmd_data</td><td>Optional payload data. May be NULL if cmd_length == 0. </td></tr>
    <tr><td class="paramname">cmd_length</td><td>Length of the command payload (parameters).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mip_cmd_result MIP_ACK_OK - Command completed successfully. MIP_NACK_* - Device rejected the command. MIP_STATUS_* - An error occured (e.g. timeout). </dd></dl>

</div>
</div>
<a id="a45b2dade015dce3a995ab0e5d3377074" name="a45b2dade015dce3a995ab0e5d3377074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b2dade015dce3a995ab0e5d3377074">&#9670;&#160;</a></span>mip_interface_run_command_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_run_command_packet </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_pending_cmd *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to mip_interface_start_command_packet but waits for the command to complete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">packet</td><td>A MIP packet containing the command. </td></tr>
    <tr><td class="paramname">cmd</td><td>The command status tracker. No lifetime requirement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac66bb3f761c33e760c3e263b09ae4528" name="ac66bb3f761c33e760c3e263b09ae4528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66bb3f761c33e760c3e263b09ae4528">&#9670;&#160;</a></span>mip_interface_run_command_with_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_run_command_with_response </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>cmd_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>response_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>response_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>response_length_inout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a command using a pre-serialized payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramdir"></td><td class="paramname">descriptor_set</td><td>Command descriptor set. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cmd_descriptor</td><td>Command field descriptor. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cmd_data</td><td>Optional payload data. May be NULL if cmd_length == 0. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cmd_length</td><td>Length of the command payload (parameters). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">response_descriptor</td><td>Descriptor of the response data. May be MIP_INVALID_FIELD_DESCRIPTOR if no response is expected. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">response_buffer</td><td>Buffer to hold response data. Can be the same as the command data buffer. Can be NULL if response_descriptor is MIP_INVALID_FIELD_DESCRIPTOR. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">response_length_inout</td><td>As input, the size of response buffer and max response length. As output, returns the actual length of the response data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mip_cmd_result </dd></dl>

</div>
</div>
<a id="a275705400661bcdc0787b2fff3585f72" name="a275705400661bcdc0787b2fff3585f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a275705400661bcdc0787b2fff3585f72">&#9670;&#160;</a></span>mip_interface_send_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_send_callback mip_interface_send_function </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the send function pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The send callback function. May be NULL. </dd></dl>

</div>
</div>
<a id="ae2fa9fd65c16218bd12716658f70f680" name="ae2fa9fd65c16218bd12716658f70f680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2fa9fd65c16218bd12716658f70f680">&#9670;&#160;</a></span>mip_interface_send_to_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_send_to_device </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data to the port (i.e. from this library to the physical device). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>The mip_interface object. </td></tr>
    <tr><td class="paramname">data</td><td>Data to be sent. </td></tr>
    <tr><td class="paramname">length</td><td>Length of data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the data was sent successfully. </dd>
<dd>
False if the send callback is NULL. </dd>
<dd>
False if some or all data could not be sent.</dd></dl>
<p>This is called whenever bytes must be sent to the physical device. </p>

</div>
</div>
<a id="ac9f1100f168bc9aa76be51d661c38c99" name="ac9f1100f168bc9aa76be51d661c38c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f1100f168bc9aa76be51d661c38c99">&#9670;&#160;</a></span>mip_interface_set_max_packets_per_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_max_packets_per_update </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_packets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a limit on the number of packets which can be processed in one call to the <a class="el" href="mip__interface_8c.html#a82bbc9760a10376fef5862e5d0660e93" title="Passes data from the device into the parser.">mip_interface_receive_bytes()</a> function. </p>
<p>Use this when receiving data in bursts to smooth out the processing load over time.</p>
<dl class="section note"><dt>Note</dt><dd>Make sure the parsing buffer is large enough to hold the data in between receive calls.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">max_packets</td><td>Maximum number of packets to parse at once. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48683f89916015e012a78288585f0fa7" name="a48683f89916015e012a78288585f0fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48683f89916015e012a78288585f0fa7">&#9670;&#160;</a></span>mip_interface_set_recv_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_recv_function </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_recv_callback&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the receive callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">callback</td><td>Function which gets data from the device connection. If this is NULL then commands will fail and no data will be received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56443be8aaa8400a01788798364a93b3" name="a56443be8aaa8400a01788798364a93b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56443be8aaa8400a01788798364a93b3">&#9670;&#160;</a></span>mip_interface_set_send_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_send_function </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_send_callback&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the send callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">callback</td><td>Function which sends raw bytes to the device. This can be NULL if no commands will be issued (they would fail). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a08600beae9c11f5b7da8fa26f56ddd05" name="a08600beae9c11f5b7da8fa26f56ddd05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08600beae9c11f5b7da8fa26f56ddd05">&#9670;&#160;</a></span>mip_interface_set_update_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_update_function </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_update_callback&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the update function. </p>
<p>By default, the update function is mip_interface_default_update.</p>
<dl class="section see"><dt>See also</dt><dd>mip_update_callback </dd>
<dd>
<a class="el" href="mip__interface_8c.html#a65014a7ec13d14107f5840653ebfab74" title="Call to process data from the device.">mip_interface_update</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">callback</td><td>Update function to call when polling the device for data. If this is NULL, then update calls will fail and no data or or command replies will be received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9a4657f0544a232b95ea152f3561c8f" name="af9a4657f0544a232b95ea152f3561c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a4657f0544a232b95ea152f3561c8f">&#9670;&#160;</a></span>mip_interface_set_user_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_user_pointer </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an optional user data pointer which can be retrieved later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">pointer</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6aa61aa9f0102ff2f8ee8633721714f9" name="a6aa61aa9f0102ff2f8ee8633721714f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa61aa9f0102ff2f8ee8633721714f9">&#9670;&#160;</a></span>mip_interface_start_command_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_start_command_packet </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet_view *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_pending_cmd *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queues the command and sends the packet. Does not wait for completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">packet</td><td>A MIP packet containing the command. </td></tr>
    <tr><td class="paramname">cmd</td><td>The command status tracker. Must be valid while the command executes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful. Cmd must remain valid until the command finishes. </dd>
<dd>
False on error sending the packet. No cleanup is necessary and cmd can be destroyed immediately afterward in this case. </dd></dl>

</div>
</div>
<a id="a65014a7ec13d14107f5840653ebfab74" name="a65014a7ec13d14107f5840653ebfab74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65014a7ec13d14107f5840653ebfab74">&#9670;&#160;</a></span>mip_interface_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_update </td>
          <td>(</td>
          <td class="paramtype">struct mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_timeout&#160;</td>
          <td class="paramname"><em>wait_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call to process data from the device. </p>
<p>This function is also called while waiting for command replies.</p>
<p>Call this periodically to process packets received from the device. It should be called at a suitably high rate to prevent the connection buffers from overflowing. The update rate affects the reception timestamp resolution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">wait_time</td><td>Time to wait for data from the device. This will be nonzero when waiting for command replies. Applications calling this function can pass 0 to avoid blocking when checking for new data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if operation should continue, or false if the device cannot be updated (e.g. if the serial port is not open). </dd></dl>

</div>
</div>
<a id="ab71ae7dda149826ada48fd8baca3b06f" name="ab71ae7dda149826ada48fd8baca3b06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71ae7dda149826ada48fd8baca3b06f">&#9670;&#160;</a></span>mip_interface_update_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_update_callback mip_interface_update_function </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the update function pointer. </p>
<dl class="section return"><dt>Returns</dt><dd>The update function. Defaults to mip_interface_default_update. May be NULL. </dd></dl>

</div>
</div>
<a id="a1be4f53d0468abb00f6993566f8111a0" name="a1be4f53d0468abb00f6993566f8111a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be4f53d0468abb00f6993566f8111a0">&#9670;&#160;</a></span>mip_interface_user_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * mip_interface_user_pointer </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the pointer set by <a class="el" href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f" title="Sets an optional user data pointer which can be retrieved later.">mip_interface_set_user_pointer()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer value. </dd></dl>

</div>
</div>
<a id="a2e9949aed4b255ea362978c33c32043d" name="a2e9949aed4b255ea362978c33c32043d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9949aed4b255ea362978c33c32043d">&#9670;&#160;</a></span>mip_interface_wait_for_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_wait_for_reply </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_pending_cmd *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until the pending command completes or times out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The final status of the command. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
