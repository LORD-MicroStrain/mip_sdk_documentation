<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP SDK: src/mip/mip_interface.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIP SDK
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">MicroStrain Communications Library for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_0652f4f834e91e7f754984a58c1d13cb.html">mip</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mip_interface.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mip__interface_8h_source.html">mip_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mip__field_8h_source.html">mip_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="descriptors_8h_source.html">definitions/descriptors.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mip_interface.c:</div>
<div class="dyncontent">
<div class="center"><img src="mip__interface_8c__incl.png" border="0" usemap="#asrc_2mip_2mip__interface_8c" alt=""/></div>
<map name="asrc_2mip_2mip__interface_8c" id="asrc_2mip_2mip__interface_8c">
<area shape="rect" title=" " alt="" coords="961,5,1119,32"/>
<area shape="rect" href="mip__interface_8h.html" title=" " alt="" coords="171,80,282,107"/>
<area shape="rect" href="mip__field_8h.html" title=" " alt="" coords="849,379,933,405"/>
<area shape="rect" href="descriptors_8h.html" title=" " alt="" coords="789,229,947,256"/>
<area shape="rect" title=" " alt="" coords="1077,80,1147,107"/>
<area shape="rect" title=" " alt="" coords="1171,80,1232,107"/>
<area shape="rect" title=" " alt="" coords="626,603,691,629"/>
<area shape="rect" title=" " alt="" coords="69,603,137,629"/>
<area shape="rect" href="mip__parser_8h.html" title=" " alt="" coords="231,379,329,405"/>
<area shape="rect" href="mip__cmdqueue_8h.html" title=" " alt="" coords="371,379,493,405"/>
<area shape="rect" href="mip__dispatch_8h.html" title=" " alt="" coords="622,155,733,181"/>
<area shape="rect" href="mip__packet_8h.html" title=" " alt="" coords="470,453,570,480"/>
<area shape="rect" href="mip__types_8h.html" title=" " alt="" coords="517,528,611,555"/>
<area shape="rect" href="mip__offsets_8h.html" title=" " alt="" coords="144,453,243,480"/>
<area shape="rect" href="byte__ring_8h.html" title=" " alt="" coords="93,528,208,555"/>
<area shape="rect" title=" " alt="" coords="992,603,1067,629"/>
<area shape="rect" href="mip__result_8h.html" title=" " alt="" coords="873,528,967,555"/>
<area shape="rect" href="serialization_8h.html" title=" " alt="" coords="785,304,927,331"/>
<area shape="rect" title=" " alt="" coords="1021,379,1104,405"/>
<area shape="rect" title=" " alt="" coords="952,304,1003,331"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5bdb1f88c2b5f6c800f361497be587a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a5bdb1f88c2b5f6c800f361497be587a4">mip_interface_parse_callback</a> (void *device, const mip_packet *packet, timestamp_type timestamp)</td></tr>
<tr class="memdesc:a5bdb1f88c2b5f6c800f361497be587a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around mip_interface_receive_packet for use with mip_parser.  <a href="mip__interface_8c.html#a5bdb1f88c2b5f6c800f361497be587a4">More...</a><br /></td></tr>
<tr class="separator:a5bdb1f88c2b5f6c800f361497be587a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0675420a97a8b4306b06bf30ca9817"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a7b0675420a97a8b4306b06bf30ca9817">mip_interface_init</a> (mip_interface *device, uint8_t *parse_buffer, size_t parse_buffer_size, timeout_type parse_timeout, timeout_type base_reply_timeout)</td></tr>
<tr class="memdesc:a7b0675420a97a8b4306b06bf30ca9817"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mip_interface components.  <a href="mip__interface_8c.html#a7b0675420a97a8b4306b06bf30ca9817">More...</a><br /></td></tr>
<tr class="separator:a7b0675420a97a8b4306b06bf30ca9817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6477f4984132f560fe4d738278ea925"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ad6477f4984132f560fe4d738278ea925">mip_interface_set_update_function</a> (struct mip_interface *device, mip_update_callback function)</td></tr>
<tr class="memdesc:ad6477f4984132f560fe4d738278ea925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the update function.  <a href="mip__interface_8c.html#ad6477f4984132f560fe4d738278ea925">More...</a><br /></td></tr>
<tr class="separator:ad6477f4984132f560fe4d738278ea925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad511591bd8ea26939239b2339e89b74b"><td class="memItemLeft" align="right" valign="top">mip_update_callback&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ad511591bd8ea26939239b2339e89b74b">mip_interface_update_function</a> (struct mip_interface *device)</td></tr>
<tr class="memdesc:ad511591bd8ea26939239b2339e89b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the update function pointer.  <a href="mip__interface_8c.html#ad511591bd8ea26939239b2339e89b74b">More...</a><br /></td></tr>
<tr class="separator:ad511591bd8ea26939239b2339e89b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a4657f0544a232b95ea152f3561c8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f">mip_interface_set_user_pointer</a> (mip_interface *device, void *pointer)</td></tr>
<tr class="memdesc:af9a4657f0544a232b95ea152f3561c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an optional user data pointer which can be retrieved later.  <a href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f">More...</a><br /></td></tr>
<tr class="separator:af9a4657f0544a232b95ea152f3561c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2781fd378b0fb9fc65117e529fe17327"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a2781fd378b0fb9fc65117e529fe17327">mip_interface_user_pointer</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:a2781fd378b0fb9fc65117e529fe17327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the pointer set by <a class="el" href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f" title="Sets an optional user data pointer which can be retrieved later.">mip_interface_set_user_pointer()</a>.  <a href="mip__interface_8c.html#a2781fd378b0fb9fc65117e529fe17327">More...</a><br /></td></tr>
<tr class="separator:a2781fd378b0fb9fc65117e529fe17327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122ab5c17a49bb116c7e1fd4932fa7dd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a122ab5c17a49bb116c7e1fd4932fa7dd">mip_interface_max_packets_per_update</a> (const mip_interface *device)</td></tr>
<tr class="memdesc:a122ab5c17a49bb116c7e1fd4932fa7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum number of packets to parser per update call.  <a href="mip__interface_8c.html#a122ab5c17a49bb116c7e1fd4932fa7dd">More...</a><br /></td></tr>
<tr class="separator:a122ab5c17a49bb116c7e1fd4932fa7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f1100f168bc9aa76be51d661c38c99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ac9f1100f168bc9aa76be51d661c38c99">mip_interface_set_max_packets_per_update</a> (mip_interface *device, unsigned int max_packets)</td></tr>
<tr class="memdesc:ac9f1100f168bc9aa76be51d661c38c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a limit on the number of packets which can be processed in one call to the <a class="el" href="mip__interface_8c.html#a21fa1e2d19192bbaa2460ac458f39de4" title="Receive data from the port (i.e. the physical device) into the parser.">mip_interface_receive_bytes()</a> function.  <a href="mip__interface_8c.html#ac9f1100f168bc9aa76be51d661c38c99">More...</a><br /></td></tr>
<tr class="separator:ac9f1100f168bc9aa76be51d661c38c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b0de14d922e5777972acc8bf8875c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a13b0de14d922e5777972acc8bf8875c3">mip_interface_update</a> (struct mip_interface *device, bool blocking)</td></tr>
<tr class="memdesc:a13b0de14d922e5777972acc8bf8875c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call to process data from the device.  <a href="mip__interface_8c.html#a13b0de14d922e5777972acc8bf8875c3">More...</a><br /></td></tr>
<tr class="separator:a13b0de14d922e5777972acc8bf8875c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad52889282bc7930bc0d46bc707b93ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#aad52889282bc7930bc0d46bc707b93ef">mip_interface_default_update</a> (struct mip_interface *device, bool blocking)</td></tr>
<tr class="memdesc:aad52889282bc7930bc0d46bc707b93ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls the port for new data or command replies.  <a href="mip__interface_8c.html#aad52889282bc7930bc0d46bc707b93ef">More...</a><br /></td></tr>
<tr class="separator:aad52889282bc7930bc0d46bc707b93ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fa9fd65c16218bd12716658f70f680"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ae2fa9fd65c16218bd12716658f70f680">mip_interface_send_to_device</a> (mip_interface *device, const uint8_t *data, size_t length)</td></tr>
<tr class="memdesc:ae2fa9fd65c16218bd12716658f70f680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to the port (i.e. from this library to the physical device).  <a href="mip__interface_8c.html#ae2fa9fd65c16218bd12716658f70f680">More...</a><br /></td></tr>
<tr class="separator:ae2fa9fd65c16218bd12716658f70f680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fa1e2d19192bbaa2460ac458f39de4"><td class="memItemLeft" align="right" valign="top">remaining_count&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a21fa1e2d19192bbaa2460ac458f39de4">mip_interface_receive_bytes</a> (mip_interface *device, const uint8_t *data, size_t length, timestamp_type timestamp)</td></tr>
<tr class="memdesc:a21fa1e2d19192bbaa2460ac458f39de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data from the port (i.e. the physical device) into the parser.  <a href="mip__interface_8c.html#a21fa1e2d19192bbaa2460ac458f39de4">More...</a><br /></td></tr>
<tr class="separator:a21fa1e2d19192bbaa2460ac458f39de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8625171b2cc6ee76ad7b52f64ed8c0a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a8625171b2cc6ee76ad7b52f64ed8c0a0">mip_interface_process_unparsed_packets</a> (mip_interface *device)</td></tr>
<tr class="memdesc:a8625171b2cc6ee76ad7b52f64ed8c0a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process more packets from the internal buffer.  <a href="mip__interface_8c.html#a8625171b2cc6ee76ad7b52f64ed8c0a0">More...</a><br /></td></tr>
<tr class="separator:a8625171b2cc6ee76ad7b52f64ed8c0a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02366ef13b50d6cf0d7a1cd1751c5ee2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a02366ef13b50d6cf0d7a1cd1751c5ee2">mip_interface_receive_packet</a> (mip_interface *device, const mip_packet *packet, timestamp_type timestamp)</td></tr>
<tr class="memdesc:a02366ef13b50d6cf0d7a1cd1751c5ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a pre-parsed packet for command replies and data.  <a href="mip__interface_8c.html#a02366ef13b50d6cf0d7a1cd1751c5ee2">More...</a><br /></td></tr>
<tr class="separator:a02366ef13b50d6cf0d7a1cd1751c5ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d2821bb9d8aee6fe7e81a25da4b0a5"><td class="memItemLeft" align="right" valign="top">mip_parser *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a24d2821bb9d8aee6fe7e81a25da4b0a5">mip_interface_parser</a> (mip_interface *device)</td></tr>
<tr class="memdesc:a24d2821bb9d8aee6fe7e81a25da4b0a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the MIP parser for the device.  <a href="mip__interface_8c.html#a24d2821bb9d8aee6fe7e81a25da4b0a5">More...</a><br /></td></tr>
<tr class="separator:a24d2821bb9d8aee6fe7e81a25da4b0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f1e9d05e47c50ca9c98d73630b9711"><td class="memItemLeft" align="right" valign="top">mip_cmd_queue *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a16f1e9d05e47c50ca9c98d73630b9711">mip_interface_cmd_queue</a> (mip_interface *device)</td></tr>
<tr class="memdesc:a16f1e9d05e47c50ca9c98d73630b9711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the commmand queue for the device.  <a href="mip__interface_8c.html#a16f1e9d05e47c50ca9c98d73630b9711">More...</a><br /></td></tr>
<tr class="separator:a16f1e9d05e47c50ca9c98d73630b9711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4d491a94b5f6f5086cdfdcfcf01442"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#acd4d491a94b5f6f5086cdfdcfcf01442">mip_interface_wait_for_reply</a> (mip_interface *device, const mip_pending_cmd *cmd)</td></tr>
<tr class="memdesc:acd4d491a94b5f6f5086cdfdcfcf01442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until the pending command completes or times out.  <a href="mip__interface_8c.html#acd4d491a94b5f6f5086cdfdcfcf01442">More...</a><br /></td></tr>
<tr class="separator:acd4d491a94b5f6f5086cdfdcfcf01442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2992fa8b70e4dfa00cd5a828ef8defcb"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a2992fa8b70e4dfa00cd5a828ef8defcb">mip_interface_run_command</a> (mip_interface *device, uint8_t descriptor_set, uint8_t cmd_descriptor, const uint8_t *cmd_data, uint8_t cmd_length)</td></tr>
<tr class="memdesc:a2992fa8b70e4dfa00cd5a828ef8defcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a command using a pre-serialized payload.  <a href="mip__interface_8c.html#a2992fa8b70e4dfa00cd5a828ef8defcb">More...</a><br /></td></tr>
<tr class="separator:a2992fa8b70e4dfa00cd5a828ef8defcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66bb3f761c33e760c3e263b09ae4528"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#ac66bb3f761c33e760c3e263b09ae4528">mip_interface_run_command_with_response</a> (mip_interface *device, uint8_t descriptor_set, uint8_t cmd_descriptor, const uint8_t *cmd_data, uint8_t cmd_length, uint8_t response_descriptor, uint8_t *response_buffer, uint8_t *response_length_inout)</td></tr>
<tr class="memdesc:ac66bb3f761c33e760c3e263b09ae4528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a command using a pre-serialized payload.  <a href="mip__interface_8c.html#ac66bb3f761c33e760c3e263b09ae4528">More...</a><br /></td></tr>
<tr class="separator:ac66bb3f761c33e760c3e263b09ae4528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fcc0d2dd053a6a152ef965f3bc0d23"><td class="memItemLeft" align="right" valign="top">enum mip_cmd_result&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a67fcc0d2dd053a6a152ef965f3bc0d23">mip_interface_run_command_packet</a> (mip_interface *device, const mip_packet *packet, mip_pending_cmd *cmd)</td></tr>
<tr class="memdesc:a67fcc0d2dd053a6a152ef965f3bc0d23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to mip_interface_start_command_packet but waits for the command to complete.  <a href="mip__interface_8c.html#a67fcc0d2dd053a6a152ef965f3bc0d23">More...</a><br /></td></tr>
<tr class="separator:a67fcc0d2dd053a6a152ef965f3bc0d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b56656ff43251e74f9fb147093e442b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a7b56656ff43251e74f9fb147093e442b">mip_interface_start_command_packet</a> (mip_interface *device, const mip_packet *packet, mip_pending_cmd *cmd)</td></tr>
<tr class="memdesc:a7b56656ff43251e74f9fb147093e442b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues the command and sends the packet. Does not wait for completion.  <a href="mip__interface_8c.html#a7b56656ff43251e74f9fb147093e442b">More...</a><br /></td></tr>
<tr class="separator:a7b56656ff43251e74f9fb147093e442b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f83502d13a2a4b5a82e8a78618fc0a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a5f83502d13a2a4b5a82e8a78618fc0a5">mip_interface_register_packet_callback</a> (mip_interface *device, mip_dispatch_handler *handler, uint8_t descriptor_set, bool after_fields, mip_dispatch_packet_callback callback, void *user_data)</td></tr>
<tr class="memdesc:a5f83502d13a2a4b5a82e8a78618fc0a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback for packets of the specified descriptor set.  <a href="mip__interface_8c.html#a5f83502d13a2a4b5a82e8a78618fc0a5">More...</a><br /></td></tr>
<tr class="separator:a5f83502d13a2a4b5a82e8a78618fc0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf2e4a9789c9327184f2e7fccb5b924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a6cf2e4a9789c9327184f2e7fccb5b924">mip_interface_register_field_callback</a> (mip_interface *device, mip_dispatch_handler *handler, uint8_t descriptor_set, uint8_t field_descriptor, mip_dispatch_field_callback callback, void *user_data)</td></tr>
<tr class="memdesc:a6cf2e4a9789c9327184f2e7fccb5b924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback for packets of the specified descriptor set.  <a href="mip__interface_8c.html#a6cf2e4a9789c9327184f2e7fccb5b924">More...</a><br /></td></tr>
<tr class="separator:a6cf2e4a9789c9327184f2e7fccb5b924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743a593a631bdf481f9f8f87f59ec7ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mip__interface_8c.html#a743a593a631bdf481f9f8f87f59ec7ca">mip_interface_register_extractor</a> (mip_interface *device, mip_dispatch_handler *handler, uint8_t descriptor_set, uint8_t field_descriptor, mip_dispatch_extractor extractor, void *field_ptr)</td></tr>
<tr class="memdesc:a743a593a631bdf481f9f8f87f59ec7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a callback for packets of the specified descriptor set.  <a href="mip__interface_8c.html#a743a593a631bdf481f9f8f87f59ec7ca">More...</a><br /></td></tr>
<tr class="separator:a743a593a631bdf481f9f8f87f59ec7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a16f1e9d05e47c50ca9c98d73630b9711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f1e9d05e47c50ca9c98d73630b9711">&#9670;&nbsp;</a></span>mip_interface_cmd_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_cmd_queue* mip_interface_cmd_queue </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the commmand queue for the device. </p>

</div>
</div>
<a id="aad52889282bc7930bc0d46bc707b93ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad52889282bc7930bc0d46bc707b93ef">&#9670;&nbsp;</a></span>mip_interface_default_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_default_update </td>
          <td>(</td>
          <td class="paramtype">struct mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Polls the port for new data or command replies. </p>
<p>This is the default choice for the user update function. It ignores the blocking flag and always reads data from the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>The mip_interface object. </td></tr>
    <tr><td class="paramname">blocking</td><td>Ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value returned by mip_interface_user_recv_from_device. </dd></dl>

</div>
</div>
<a id="a7b0675420a97a8b4306b06bf30ca9817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0675420a97a8b4306b06bf30ca9817">&#9670;&nbsp;</a></span>mip_interface_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_init </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>parse_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>parse_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timeout_type&#160;</td>
          <td class="paramname"><em>parse_timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timeout_type&#160;</td>
          <td class="paramname"><em>base_reply_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the mip_interface components. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">parse_buffer</td><td>A working buffer for the MIP parser. See <a class="el" href="mip__parser_8c.html#a4c335da8f229f06e03af5ff86bba7aa5" title="Initializes the MIP parser.">mip_parser_init()</a>. </td></tr>
    <tr><td class="paramname">parse_buffer_size</td><td>Size of the parsing buffer. Must be at least MIP_PACKET_LENGTH_MAX. </td></tr>
    <tr><td class="paramname">parse_timeout</td><td>Maximum length of time to wait for the end of a MIP packet. See <a class="el" href="mip__parser_8c.html#a4c335da8f229f06e03af5ff86bba7aa5" title="Initializes the MIP parser.">mip_parser_init()</a>. </td></tr>
    <tr><td class="paramname">base_reply_timeout</td><td>Minimum time for all commands. See <a class="el" href="mip__cmdqueue_8c.html#a18aa09db516da1a05341637731c12385" title="Initializes a command queue.">mip_cmd_queue_init()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a122ab5c17a49bb116c7e1fd4932fa7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122ab5c17a49bb116c7e1fd4932fa7dd">&#9670;&nbsp;</a></span>mip_interface_max_packets_per_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int mip_interface_max_packets_per_update </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the maximum number of packets to parser per update call. </p>

</div>
</div>
<a id="a5bdb1f88c2b5f6c800f361497be587a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bdb1f88c2b5f6c800f361497be587a4">&#9670;&nbsp;</a></span>mip_interface_parse_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_parse_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timestamp_type&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around mip_interface_receive_packet for use with mip_parser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Void pointer to the device. Must be a mip_interface pointer. </td></tr>
    <tr><td class="paramname">packet</td><td>MIP Packet from the parser. </td></tr>
    <tr><td class="paramname">timestamp</td><td>timestamp_type of the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True </dd></dl>

</div>
</div>
<a id="a24d2821bb9d8aee6fe7e81a25da4b0a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24d2821bb9d8aee6fe7e81a25da4b0a5">&#9670;&nbsp;</a></span>mip_interface_parser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_parser* mip_interface_parser </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the MIP parser for the device. </p>

</div>
</div>
<a id="a8625171b2cc6ee76ad7b52f64ed8c0a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8625171b2cc6ee76ad7b52f64ed8c0a0">&#9670;&nbsp;</a></span>mip_interface_process_unparsed_packets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_process_unparsed_packets </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process more packets from the internal buffer. </p>
<p>This is an alternative to <a class="el" href="mip__interface_8c.html#a21fa1e2d19192bbaa2460ac458f39de4" title="Receive data from the port (i.e. the physical device) into the parser.">mip_interface_receive_bytes()</a> for the case when no new input data is available and max_packets is nonzero. The timestamp is reused from the last call to receive_bytes.</p>
<p>This function obeys the max_packets_per_update setting.</p>
<dl class="section note"><dt>Note</dt><dd>Calling this function when max_packets_per_update is zero is unnecessary and has no effect. </dd></dl>

</div>
</div>
<a id="a21fa1e2d19192bbaa2460ac458f39de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fa1e2d19192bbaa2460ac458f39de4">&#9670;&nbsp;</a></span>mip_interface_receive_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remaining_count mip_interface_receive_bytes </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timestamp_type&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data from the port (i.e. the physical device) into the parser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">data</td><td>Input data buffer. May be NULL if length == 0. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the input buffer. Must be 0 if data is NULL. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Time of the received data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of data which couldn't be processed due to the limit on number of packets per parse call. Normally the result is 0. </dd></dl>

</div>
</div>
<a id="a02366ef13b50d6cf0d7a1cd1751c5ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02366ef13b50d6cf0d7a1cd1751c5ee2">&#9670;&nbsp;</a></span>mip_interface_receive_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_receive_packet </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timestamp_type&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a pre-parsed packet for command replies and data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">packet</td><td>The received MIP packet. </td></tr>
    <tr><td class="paramname">timestamp</td><td>timestamp_type of the received MIP packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a743a593a631bdf481f9f8f87f59ec7ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743a593a631bdf481f9f8f87f59ec7ca">&#9670;&nbsp;</a></span>mip_interface_register_extractor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_register_extractor </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>field_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_extractor&#160;</td>
          <td class="paramname"><em>extractor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>field_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback for packets of the specified descriptor set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">handler</td><td>An uninitialized mip_dispatch_handler object. This call will initialize it. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td></td></tr>
    <tr><td class="paramname">field_descriptor</td><td></td></tr>
    <tr><td class="paramname">extractor</td><td></td></tr>
    <tr><td class="paramname">field_ptr</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>mip_dispatch_handler_init_extract_handler for details. </dd></dl>

</div>
</div>
<a id="a6cf2e4a9789c9327184f2e7fccb5b924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf2e4a9789c9327184f2e7fccb5b924">&#9670;&nbsp;</a></span>mip_interface_register_field_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_register_field_callback </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>field_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_field_callback&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback for packets of the specified descriptor set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">handler</td><td>An uninitialized mip_dispatch_handler object. This call will initialize it. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td></td></tr>
    <tr><td class="paramname">field_descriptor</td><td></td></tr>
    <tr><td class="paramname">callback</td><td></td></tr>
    <tr><td class="paramname">user_data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>mip_dispatch_handler_init_field_handler for details. </dd></dl>

</div>
</div>
<a id="a5f83502d13a2a4b5a82e8a78618fc0a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f83502d13a2a4b5a82e8a78618fc0a5">&#9670;&nbsp;</a></span>mip_interface_register_packet_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_register_packet_callback </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>after_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_dispatch_packet_callback&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a callback for packets of the specified descriptor set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">handler</td><td>An uninitialized mip_dispatch_handler object. This call will initialize it. </td></tr>
    <tr><td class="paramname">descriptor_set</td><td></td></tr>
    <tr><td class="paramname">after_fields</td><td></td></tr>
    <tr><td class="paramname">callback</td><td></td></tr>
    <tr><td class="paramname">user_data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>mip_dispatch_handler_init_packet_handler for details. </dd></dl>

</div>
</div>
<a id="a2992fa8b70e4dfa00cd5a828ef8defcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2992fa8b70e4dfa00cd5a828ef8defcb">&#9670;&nbsp;</a></span>mip_interface_run_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_run_command </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>cmd_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a command using a pre-serialized payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">descriptor_set</td><td>Command descriptor set. </td></tr>
    <tr><td class="paramname">cmd_descriptor</td><td>Command field descriptor. </td></tr>
    <tr><td class="paramname">cmd_data</td><td>Optional payload data. May be NULL if cmd_length == 0. </td></tr>
    <tr><td class="paramname">cmd_length</td><td>Length of the command payload (parameters).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mip_cmd_result MIP_ACK_OK - Command completed successfully. MIP_NACK_* - Device rejected the command. MIP_STATUS_* - An error occured (e.g. timeout). </dd></dl>

</div>
</div>
<a id="a67fcc0d2dd053a6a152ef965f3bc0d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fcc0d2dd053a6a152ef965f3bc0d23">&#9670;&nbsp;</a></span>mip_interface_run_command_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_run_command_packet </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_pending_cmd *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to mip_interface_start_command_packet but waits for the command to complete. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">packet</td><td>A MIP packet containing the command. </td></tr>
    <tr><td class="paramname">cmd</td><td>The command status tracker. No lifetime requirement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac66bb3f761c33e760c3e263b09ae4528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66bb3f761c33e760c3e263b09ae4528">&#9670;&nbsp;</a></span>mip_interface_run_command_with_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_run_command_with_response </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>cmd_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>response_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>response_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>response_length_inout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs a command using a pre-serialized payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">descriptor_set</td><td>Command descriptor set. </td></tr>
    <tr><td class="paramname">cmd_descriptor</td><td>Command field descriptor. </td></tr>
    <tr><td class="paramname">cmd_data</td><td>Optional payload data. May be NULL if cmd_length == 0. </td></tr>
    <tr><td class="paramname">cmd_length</td><td>Length of the command payload (parameters).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mip_cmd_result MIP_ACK_OK - Command completed successfully. MIP_NACK_* - Device rejected the command. MIP_STATUS_* - An error occured (e.g. timeout).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response_descriptor</td><td>Descriptor of the response data. May be MIP_INVALID_FIELD_DESCRIPTOR if no response is expected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2fa9fd65c16218bd12716658f70f680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2fa9fd65c16218bd12716658f70f680">&#9670;&nbsp;</a></span>mip_interface_send_to_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_send_to_device </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data to the port (i.e. from this library to the physical device). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>The mip_interface object. </td></tr>
    <tr><td class="paramname">data</td><td>Data to be sent. </td></tr>
    <tr><td class="paramname">length</td><td>Length of data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the data was sent successfully, false if some or all data could not be sent.</dd></dl>
<p>This is called whenever bytes must be sent to the physical device. </p>

</div>
</div>
<a id="ac9f1100f168bc9aa76be51d661c38c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f1100f168bc9aa76be51d661c38c99">&#9670;&nbsp;</a></span>mip_interface_set_max_packets_per_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_max_packets_per_update </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_packets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a limit on the number of packets which can be processed in one call to the <a class="el" href="mip__interface_8c.html#a21fa1e2d19192bbaa2460ac458f39de4" title="Receive data from the port (i.e. the physical device) into the parser.">mip_interface_receive_bytes()</a> function. </p>
<p>Use this when receiving data in bursts to smooth out the processing load over time.</p>
<dl class="section note"><dt>Note</dt><dd>Make sure the parsing buffer is large enough to hold the data in between receive calls.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">max_packets</td><td>Maximum number of packets to parse at once. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6477f4984132f560fe4d738278ea925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6477f4984132f560fe4d738278ea925">&#9670;&nbsp;</a></span>mip_interface_set_update_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_update_function </td>
          <td>(</td>
          <td class="paramtype">struct mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_update_callback&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the update function. </p>
<p>By default, the update function is mip_interface_default_update.</p>
<dl class="section see"><dt>See also</dt><dd>mip_update_callback </dd>
<dd>
<a class="el" href="mip__interface_8c.html#a13b0de14d922e5777972acc8bf8875c3" title="Call to process data from the device.">mip_interface_update</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">function</td><td>Update function to call when polling the device for data. If this is NULL, then update calls will fail and no data or or command replies will be received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9a4657f0544a232b95ea152f3561c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a4657f0544a232b95ea152f3561c8f">&#9670;&nbsp;</a></span>mip_interface_set_user_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mip_interface_set_user_pointer </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an optional user data pointer which can be retrieved later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">pointer</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b56656ff43251e74f9fb147093e442b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b56656ff43251e74f9fb147093e442b">&#9670;&nbsp;</a></span>mip_interface_start_command_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_start_command_packet </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_packet *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mip_pending_cmd *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queues the command and sends the packet. Does not wait for completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">packet</td><td>A MIP packet containing the command. </td></tr>
    <tr><td class="paramname">cmd</td><td>The command status tracker. Must be valid while the command executes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful. Cmd must remain valid until the command finishes. </dd>
<dd>
False on error sending the packet. No cleanup is necessary and cmd can be destroyed immediately afterward in this case. </dd></dl>

</div>
</div>
<a id="a13b0de14d922e5777972acc8bf8875c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b0de14d922e5777972acc8bf8875c3">&#9670;&nbsp;</a></span>mip_interface_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mip_interface_update </td>
          <td>(</td>
          <td class="paramtype">struct mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call to process data from the device. </p>
<p>This function is also called while waiting for command replies.</p>
<p>Call this periodically to process packets received from the device. It should be called at a suitably-high rate to prevent the connection buffers from overflowing. The update rate affects the reception timestamp resolution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">blocking</td><td>This is true when called from within a blocking command function. Applications should generally set this to false, e.g. when calling this to process incoming data packets.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if operation should continue, or false if the device cannot be updated (e.g. if the serial port is not open). </dd></dl>

</div>
</div>
<a id="ad511591bd8ea26939239b2339e89b74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad511591bd8ea26939239b2339e89b74b">&#9670;&nbsp;</a></span>mip_interface_update_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mip_update_callback mip_interface_update_function </td>
          <td>(</td>
          <td class="paramtype">struct mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the update function pointer. </p>
<dl class="section return"><dt>Returns</dt><dd>The update function. Defaults to mip_interface_default_update. May be NULL. </dd></dl>

</div>
</div>
<a id="a2781fd378b0fb9fc65117e529fe17327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2781fd378b0fb9fc65117e529fe17327">&#9670;&nbsp;</a></span>mip_interface_user_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* mip_interface_user_pointer </td>
          <td>(</td>
          <td class="paramtype">const mip_interface *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the pointer set by <a class="el" href="mip__interface_8c.html#af9a4657f0544a232b95ea152f3561c8f" title="Sets an optional user data pointer which can be retrieved later.">mip_interface_set_user_pointer()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer value. </dd></dl>

</div>
</div>
<a id="acd4d491a94b5f6f5086cdfdcfcf01442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4d491a94b5f6f5086cdfdcfcf01442">&#9670;&nbsp;</a></span>mip_interface_wait_for_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum mip_cmd_result mip_interface_wait_for_reply </td>
          <td>(</td>
          <td class="paramtype">mip_interface *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mip_pending_cmd *&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until the pending command completes or times out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The final status of the command. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
